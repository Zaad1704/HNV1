import{j as e,b as s}from"./index-7df8bb8f.js";import{r as t}from"./vendor-83d6deea.js";import{a,c as r,u as d}from"./query-c0dd8be7.js";import{m as i,a6 as l,V as n,ae as o,w as c,U as x}from"./ui-88b07fc3.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const m=async()=>{const{data:e}=await s.get("/super-admin/moderators");return e.data},p=()=>{const p=a(),[u,b]=t.useState(!1),[j,h]=t.useState({name:"",email:"",password:""}),y=r({mutationFn:async e=>(await s.post("/super-admin/moderators",e)).data,onSuccess:()=>{p.invalidateQueries({queryKey:["moderators"]}),b(!1),h({name:"",email:"",password:""})}}),{data:f,isLoading:g}=d({queryKey:["moderators"],queryFn:m});return g?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"w-8 h-8 app-gradient rounded-full animate-pulse"}),e.jsx("span",{className:"ml-3 text-text-secondary",children:"Loading moderators..."})]}):e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Moderators"}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Manage platform moderators"})]}),e.jsxs("button",{onClick:()=>b(!0),className:"btn-gradient px-6 py-3 rounded-2xl flex items-center gap-2 font-semibold",children:[e.jsx(l,{size:20}),"Add Moderator"]})]}),f&&f.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((s,t)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"app-surface rounded-3xl p-6 border border-app-border hover:shadow-app-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-full flex items-center justify-center text-white font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:s.name}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:s.role})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-secondary text-sm",children:[e.jsx(n,{size:14}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-text-secondary text-sm",children:[e.jsx(o,{size:14}),e.jsxs("span",{children:["Joined: ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-text-secondary text-sm",children:[e.jsx(c,{size:14}),e.jsxs("span",{children:["Status: ",s.isActive?"Active":"Inactive"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{className:"flex-1 bg-app-bg hover:bg-app-border text-text-primary py-2 px-4 rounded-xl text-sm font-medium transition-colors",children:"Edit"}),e.jsx("button",{className:"flex-1 bg-red-50 hover:bg-red-100 text-red-600 py-2 px-4 rounded-xl text-sm font-medium transition-colors",children:"Remove"})]})]},s._id))}):e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 app-gradient rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(x,{size:48,className:"text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-2",children:"No Moderators Yet"}),e.jsx("p",{className:"text-text-secondary mb-8 max-w-md mx-auto",children:"Add moderators to help manage the platform."}),e.jsxs("button",{onClick:()=>b(!0),className:"btn-gradient px-8 py-4 rounded-2xl font-semibold flex items-center gap-2 mx-auto",children:[e.jsx(l,{size:20}),"Add First Moderator"]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:e.jsxs("div",{className:"app-surface rounded-3xl shadow-app-xl w-full max-w-md border border-app-border",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-app-border",children:[e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Add Moderator"}),e.jsx("button",{onClick:()=>b(!1),className:"text-text-secondary hover:text-text-primary",children:"Ã—"})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),y.mutate(j)},className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Name"}),e.jsx("input",{type:"text",value:j.name,onChange:e=>h({...j,name:e.target.value}),required:!0,className:"w-full p-3 border border-app-border rounded-2xl bg-app-surface"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email"}),e.jsx("input",{type:"email",value:j.email,onChange:e=>h({...j,email:e.target.value}),required:!0,className:"w-full p-3 border border-app-border rounded-2xl bg-app-surface"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Password"}),e.jsx("input",{type:"password",value:j.password,onChange:e=>h({...j,password:e.target.value}),required:!0,className:"w-full p-3 border border-app-border rounded-2xl bg-app-surface"})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-6 py-3 rounded-2xl border border-app-border text-text-secondary hover:text-text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y.isPending,className:"btn-gradient px-6 py-3 rounded-2xl",children:y.isPending?"Adding...":"Add Moderator"})]})]})]})})]})};export{p as default};
