import{j as e,b as s}from"./index-7df8bb8f.js";import{r as t}from"./vendor-83d6deea.js";import{u as a,a as n,c as r}from"./query-c0dd8be7.js";import{m as i,a6 as l,V as d,X as c}from"./ui-88b07fc3.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const x=({isOpen:a,onClose:i})=>{const[l,d]=t.useState(""),[x,m]=t.useState("Agent"),o=n(),p=r({mutationFn:async e=>(await s.post("/users/invite",e)).data,onSuccess:()=>{o.invalidateQueries(["users"]),o.invalidateQueries(["invites"]),d(""),m("Agent"),i()}});return a?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:e.jsxs("div",{className:"app-surface rounded-3xl shadow-app-xl w-full max-w-md border border-app-border",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-app-border",children:[e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Invite User"}),e.jsx("button",{onClick:i,className:"p-2 rounded-full text-text-secondary hover:text-text-primary",children:e.jsx(c,{size:20})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),p.mutate({email:l,role:x})},className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:l,onChange:e=>d(e.target.value),required:!0,className:"w-full",placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Role"}),e.jsxs("select",{value:x,onChange:e=>m(e.target.value),className:"w-full",children:[e.jsx("option",{value:"Agent",children:"Agent"}),e.jsx("option",{value:"Tenant",children:"Tenant"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:i,className:"px-6 py-3 rounded-2xl border border-app-border text-text-secondary hover:text-text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p.isLoading,className:"btn-gradient px-6 py-3 rounded-2xl disabled:opacity-50",children:p.isLoading?"Sending...":"Send Invite"})]})]})]})}):null},m=()=>{const[n,r]=t.useState(!1),{data:c=[]}=a({queryKey:["users"],queryFn:async()=>{const{data:e}=await s.get("/users");return e.data}}),{data:m=[]}=a({queryKey:["invites"],queryFn:async()=>{const{data:e}=await s.get("/users/invites");return e.data}});return e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Users & Invites"}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Manage team members and invitations"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"btn-gradient px-6 py-3 rounded-2xl flex items-center gap-2 font-semibold",children:[e.jsx(l,{size:20}),"Invite User"]})]}),e.jsxs("div",{className:"app-surface rounded-3xl p-6 border border-app-border",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Active Users"}),c.length>0?e.jsx("div",{className:"space-y-4",children:c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-app-bg rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 app-gradient rounded-full flex items-center justify-center text-white font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:s.name}),e.jsx("p",{className:"text-sm text-text-secondary",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.role}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.status})]})]},s._id))}):e.jsx("p",{className:"text-text-secondary text-center py-8",children:"No active users"})]}),e.jsxs("div",{className:"app-surface rounded-3xl p-6 border border-app-border",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Pending Invites"}),m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-app-bg rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{size:20,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:s.email}),e.jsxs("p",{className:"text-sm text-text-secondary",children:["Invited ",new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.role}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:s.status})]})]},s._id))}):e.jsx("p",{className:"text-text-secondary text-center py-8",children:"No pending invites"})]}),e.jsx(x,{isOpen:n,onClose:()=>r(!1)})]})};export{m as default};
