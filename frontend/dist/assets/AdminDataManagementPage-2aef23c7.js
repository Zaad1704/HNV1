import{j as t,b as e}from"./index-7df8bb8f.js";import{r as a}from"./vendor-83d6deea.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";import"./query-c0dd8be7.js";import"./ui-88b07fc3.js";const d=()=>{const[d,r]=a.useState([]),[s,l]=a.useState(!0),[i,n]=a.useState("");a.useEffect(()=>{(async()=>{try{l(!0);const t=await e.get("/super-admin/organizations");r(t.data.data)}catch(t){n("Failed to fetch data management requests.")}finally{l(!1)}})()},[]);const o=t=>t?new Date(t).toLocaleDateString():"N/A",x=t=>{switch(t){case"pending_deletion":return"text-brand-orange";case"suspended_by_admin":return"text-brand-accent-dark";default:return"text-light-text dark:text-light-text-dark"}};return s?t.jsx("div",{className:"text-dark-text dark:text-dark-text-dark text-center p-8",children:"Loading Data..."}):i?t.jsx("div",{className:"text-red-400 text-center p-8 dark:text-red-400",children:i}):t.jsxs("div",{className:"text-dark-text dark:text-dark-text-dark",children:[t.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Data & Deletion Requests"}),t.jsx("div",{className:"bg-light-card dark:bg-dark-card/70 backdrop-blur-md rounded-2xl shadow-lg border border-border-color dark:border-border-color-dark overflow-hidden transition-all duration-200",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-light-bg dark:bg-dark-bg/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text dark:text-light-text-dark uppercase",children:"Organization"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text dark:text-light-text-dark uppercase",children:"Status"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text dark:text-light-text-dark uppercase",children:"Data Export Requested"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text dark:text-light-text-dark uppercase",children:"Deletion Requested"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text dark:text-light-text-dark uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-border-color dark:divide-border-color-dark",children:d.map(e=>{var a,d,r,s;return t.jsxs("tr",{className:"hover:bg-light-bg dark:hover:bg-dark-bg/40 transition-colors duration-150",children:[t.jsxs("td",{className:"p-4",children:[t.jsx("p",{className:"font-bold text-dark-text dark:text-dark-text-dark",children:e.name}),t.jsx("p",{className:"text-xs text-light-text dark:text-light-text-dark",children:null==(a=e.owner)?void 0:a.name})]}),t.jsx("td",{className:"p-4 font-semibold",children:t.jsx("span",{className:x(e.status),children:e.status.replace("_"," ")})}),t.jsx("td",{className:"p-4 text-light-text dark:text-light-text-dark",children:o(null==(d=e.dataManagement)?void 0:d.dataExportRequestedAt)}),t.jsx("td",{className:"p-4 text-light-text dark:text-light-text-dark",children:o(null==(r=e.dataManagement)?void 0:r.accountDeletionRequestedAt)}),t.jsxs("td",{className:"p-4 space-x-2",children:[t.jsx("button",{disabled:!(null==(s=e.dataManagement)?void 0:s.dataExportRequestedAt),className:"text-xs bg-brand-primary text-white py-1 px-3 rounded-md hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Approve Export"}),t.jsx("button",{disabled:"pending_deletion"!==e.status,className:"text-xs bg-red-600 text-white py-1 px-3 rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Confirm Deletion"})]})]},e._id)})})]})})})]})};export{d as default};
