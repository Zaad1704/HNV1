import{j as e,b as a}from"./index-7df8bb8f.js";import{r as t}from"./vendor-83d6deea.js";import{a as s,L as r}from"./router-225372b8.js";import{u as l}from"./i18n-eaa6a7d3.js";import{m as n,p as i,e as o,a1 as d,V as c,$ as m,a0 as u}from"./ui-88b07fc3.js";import"./utils-2ffb253a.js";import"./query-c0dd8be7.js";const x=()=>{const[x,p]=t.useState({name:"",email:"",password:"",confirmPassword:"",role:"Landlord"}),[b,h]=t.useState(""),[f,j]=t.useState(!1),[g,y]=t.useState(!1);s();const{t:v}=l(),N=e=>{p({...x,[e.target.name]:e.target.value})};return g?e.jsx("div",{className:"min-h-screen bg-app-bg flex items-center justify-center p-4",children:e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[e.jsx("div",{className:"w-20 h-20 app-gradient rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(i,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-4",children:v("auth.check_email")}),e.jsx("p",{className:"text-text-secondary mb-8",children:v("auth.verification_sent")}),e.jsxs(r,{to:"/login",className:"btn-gradient px-8 py-3 rounded-2xl inline-flex items-center gap-2",children:[v("auth.go_to_login")," ",e.jsx(o,{size:16})]})]})}):e.jsx("div",{className:"min-h-screen bg-app-bg flex items-center justify-center p-4",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 app-gradient rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(i,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-2",children:v("auth.create_account")}),e.jsx("p",{className:"text-text-secondary",children:v("auth.join_thousands")})]}),e.jsxs("div",{className:"app-surface rounded-3xl p-8 border border-app-border shadow-app-lg",children:[b&&e.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-2xl text-center text-sm mb-6",children:b}),e.jsxs("form",{onSubmit:async e=>{var t,s;if(e.preventDefault(),x.password===x.confirmPassword){j(!0),h("");try{await a.post("/auth/register",{name:x.name,email:x.email,password:x.password,role:x.role});y(!0)}catch(r){h((null==(s=null==(t=r.response)?void 0:t.data)?void 0:s.message)||r.message||"Registration failed. Please try again.")}finally{j(!1)}}else h("Passwords do not match")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:v("auth.full_name")}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"text",name:"name",required:!0,value:x.name,onChange:N,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:v("auth.enter_full_name")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:v("auth.email_address")}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"email",name:"email",required:!0,value:x.email,onChange:N,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:v("auth.enter_email")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:v("auth.role")}),e.jsxs("select",{name:"role",value:x.role,onChange:N,className:"w-full px-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",children:[e.jsx("option",{value:"Landlord",children:v("auth.landlord")}),e.jsx("option",{value:"Agent",children:v("auth.agent")}),e.jsx("option",{value:"Tenant",children:v("auth.tenant")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:v("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"password",name:"password",required:!0,value:x.password,onChange:N,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:v("auth.create_password")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:v("auth.confirm_password")}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:x.confirmPassword,onChange:N,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:v("auth.confirm_password")})]})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full btn-gradient py-4 text-lg font-semibold rounded-2xl flex items-center justify-center gap-2 disabled:opacity-50",children:f?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[v("auth.create_account")," ",e.jsx(o,{size:20})]})})]}),e.jsxs("div",{className:"relative flex items-center justify-center my-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-app-border"})}),e.jsx("div",{className:"relative bg-app-surface px-4",children:e.jsx("span",{className:"text-text-muted text-sm font-medium",children:v("auth.or")})})]}),e.jsxs("button",{onClick:()=>{const e=a.defaults.baseURL;window.location.href=`${e}/auth/google?signup=true&role=${x.role}`},className:"w-full flex justify-center items-center gap-3 py-4 border border-app-border rounded-2xl font-semibold text-text-primary bg-app-surface hover:bg-app-bg transition-all duration-300 hover:shadow-app",children:[e.jsx(u,{size:20}),v("auth.continue_google")]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-text-secondary",children:[v("auth.have_account")," ",e.jsx(r,{to:"/login",className:"font-semibold text-brand-blue hover:text-brand-blue/80 transition-colors",children:v("auth.sign_in")})]})})]})]})})};export{x as default};
