import{j as t,b as e}from"./index-7df8bb8f.js";import{r}from"./vendor-83d6deea.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";import"./query-c0dd8be7.js";import"./ui-88b07fc3.js";const a=()=>{const[a,d]=r.useState([]),[s,i]=r.useState(!0),[l,n]=r.useState(null);r.useEffect(()=>{(async()=>{try{i(!0);const t=await e.get("/super-admin/billing");d(t.data.data)}catch(t){n("Failed to fetch billing information.")}finally{i(!1)}})()},[]);const o=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",x=t=>{switch(t){case"active":case"trialing":return"bg-green-500/20 text-green-300";case"past_due":return"bg-brand-accent-dark/20 text-brand-accent-dark";default:return"bg-brand-orange/20 text-brand-orange"}};return s?t.jsx("div",{className:"p-4 text-center text-dark-text dark:text-dark-text-dark",children:"Loading Billing Data..."}):l?t.jsx("div",{className:"p-4 text-center text-red-400 dark:text-red-400",children:l}):t.jsxs("div",{className:"text-dark-text dark:text-dark-text-dark",children:[t.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Global Subscription Overview"}),t.jsx("div",{className:"bg-light-card rounded-xl shadow-sm border border-border-color overflow-hidden dark:bg-dark-card dark:border-border-color-dark",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-light-bg border-b border-border-color dark:bg-dark-bg/50 dark:border-border-color-dark",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text uppercase dark:text-light-text-dark",children:"Organization"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text uppercase dark:text-light-text-dark",children:"Plan"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text uppercase dark:text-light-text-dark",children:"Status"}),t.jsx("th",{className:"p-4 text-sm font-semibold text-light-text uppercase dark:text-light-text-dark",children:"Next Billing / Expiry"})]})}),t.jsx("tbody",{className:"divide-y divide-border-color dark:divide-border-color-dark",children:a.map(e=>{var r,a;return t.jsxs("tr",{className:"hover:bg-light-bg transition-colors duration-150 dark:hover:bg-dark-bg/40",children:[t.jsx("td",{className:"p-4 font-medium text-dark-text dark:text-dark-text-dark",children:(null==(r=e.organizationId)?void 0:r.name)||"N/A"}),t.jsx("td",{className:"p-4 text-light-text dark:text-light-text-dark",children:(null==(a=e.planId)?void 0:a.name)||"N/A"}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full capitalize ${x(e.status)}`,children:e.status})}),t.jsx("td",{className:"p-4 text-light-text dark:text-light-text-dark",children:e.isLifetime?"Lifetime":"trialing"===e.status?`(Trial) ${o(e.trialExpiresAt)}`:o(e.currentPeriodEndsAt)})]},e._id)})})]})})]})};export{a as default};
