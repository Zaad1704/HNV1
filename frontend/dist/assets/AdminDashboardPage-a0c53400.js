import{j as e,b as t}from"./index-7df8bb8f.js";import{R as a,L as s,C as r,X as i,Y as l,T as d,d as n,P as o,b as c,c as x,e as m}from"./charts-a3223c4c.js";import{u as p}from"./query-c0dd8be7.js";import{m as h,w as u,U as j,t as y,k as g,o as f,O as v,al as b}from"./ui-88b07fc3.js";import"./vendor-83d6deea.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const N=({data:t})=>e.jsx("div",{className:"h-80",children:e.jsx(a,{width:"100%",height:"100%",children:e.jsxs(s,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(r,{strokeDasharray:"3 3",stroke:"var(--app-border)"}),e.jsx(i,{dataKey:"name",stroke:"var(--text-secondary)",fontSize:12}),e.jsx(l,{stroke:"var(--text-secondary)",fontSize:12}),e.jsx(d,{contentStyle:{backgroundColor:"var(--app-surface)",border:"1px solid var(--app-border)",borderRadius:"12px",color:"var(--text-primary)"}}),e.jsx(n,{type:"monotone",dataKey:"New Users",stroke:"#4A69E2",strokeWidth:3,dot:{fill:"#4A69E2",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#4A69E2",strokeWidth:2}}),e.jsx(n,{type:"monotone",dataKey:"New Organizations",stroke:"#FFA87A",strokeWidth:3,dot:{fill:"#FFA87A",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#FFA87A",strokeWidth:2}})]})})}),w=["#4A69E2","#FFA87A","#4AE2B6","#4A90E2"],A=({data:t})=>e.jsx("div",{className:"h-80",children:e.jsx(a,{width:"100%",height:"100%",children:e.jsxs(o,{children:[e.jsx(c,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({cx:t,cy:a,midAngle:s,innerRadius:r,outerRadius:i,percent:l})=>{const d=Math.PI/180,n=r+.5*(i-r),o=t+n*Math.cos(-s*d),c=a+n*Math.sin(-s*d);return e.jsx("text",{x:o,y:c,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(100*l).toFixed(0)}%`})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((t,a)=>e.jsx(x,{fill:w[a%w.length]},`cell-${a}`))}),e.jsx(d,{contentStyle:{backgroundColor:"var(--app-surface)",border:"1px solid var(--app-border)",borderRadius:"12px",color:"var(--text-primary)"}}),e.jsx(m,{wrapperStyle:{color:"var(--text-primary)",fontSize:"12px"}})]})})}),S=async()=>{const{data:e}=await t.get("/super-admin/dashboard-stats");return e.data},k=async()=>{const{data:e}=await t.get("/super-admin/platform-growth");return e.data},z=async()=>{const{data:e}=await t.get("/super-admin/plan-distribution");return e.data},F=({title:t,value:a,icon:s,delay:r=0,color:i="app-gradient"})=>e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r,duration:.5},className:"app-surface rounded-3xl p-8 border border-app-border hover:shadow-app-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-text-secondary text-sm font-medium mb-2",children:t}),e.jsx("p",{className:"text-4xl font-bold text-text-primary",children:a})]}),e.jsx("div",{className:`w-16 h-16 ${i} rounded-2xl flex items-center justify-center text-white`,children:s})]})}),D=()=>{var t,a,s;const{data:r,isLoading:i}=p({queryKey:["adminStats"],queryFn:S}),{data:l}=p({queryKey:["platformGrowth"],queryFn:k}),{data:d}=p({queryKey:["planDistribution"],queryFn:z});return i?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"w-8 h-8 app-gradient rounded-full animate-pulse"}),e.jsx("span",{className:"ml-3 text-text-secondary",children:"Loading admin dashboard..."})]}):e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsx("div",{className:"app-gradient rounded-3xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(u,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Super Admin Dashboard"}),e.jsx("p",{className:"text-white/80",children:"Platform overview and management"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{delay:.1,title:"Total Users",value:(null==(t=null==r?void 0:r.totalUsers)?void 0:t.toLocaleString())||"0",icon:e.jsx(j,{size:24})}),e.jsx(F,{delay:.2,title:"Organizations",value:(null==(a=null==r?void 0:r.totalOrgs)?void 0:a.toLocaleString())||"0",icon:e.jsx(y,{size:24}),color:"bg-blue-500"}),e.jsx(F,{delay:.3,title:"Active Subscriptions",value:(null==(s=null==r?void 0:r.activeSubscriptions)?void 0:s.toLocaleString())||"0",icon:e.jsx(g,{size:24}),color:"bg-green-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-xl flex items-center justify-center",children:e.jsx(f,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Platform Growth"})]}),e.jsx(N,{data:l||[]})]}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(v,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Plan Distribution"})]}),e.jsx(A,{data:d||[]})]})]}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsx("h2",{className:"text-xl font-bold text-text-primary mb-6",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Manage Organizations",icon:y,href:"/admin/organizations"},{title:"User Management",icon:j,href:"/admin/users"},{title:"Billing Overview",icon:g,href:"/admin/billing"},{title:"Site Settings",icon:b,href:"/admin/site-editor"}].map((t,a)=>e.jsxs("a",{href:t.href,className:"flex flex-col items-center p-6 bg-app-bg rounded-2xl hover:bg-app-surface hover:shadow-app transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(t.icon,{size:20,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium text-text-primary text-center",children:t.title})]},t.title))})]}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:e.jsx(b,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"System Status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-text-primary",children:"API Status"}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Operational"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-text-primary",children:"Database"}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Healthy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-text-primary",children:"Email Service"}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Degraded"})]})]})]})]})};export{D as default};
