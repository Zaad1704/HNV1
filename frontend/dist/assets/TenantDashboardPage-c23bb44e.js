import{j as e,b as s}from"./index-7df8bb8f.js";import{u as t}from"./query-c0dd8be7.js";import{F as a,m as r,H as i,Y as l,h as n,ae as d,a1 as c,V as x,Q as m,k as o}from"./ui-88b07fc3.js";import"./vendor-83d6deea.js";import"./router-225372b8.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const p=async()=>{const{data:e}=await s.get("/tenant-portal/dashboard");return e.data},h=()=>{var s,h,j,y,u;const{data:N,isLoading:f,error:g}=t({queryKey:["tenantDashboard"],queryFn:p});if(f)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"w-8 h-8 app-gradient rounded-full animate-pulse"}),e.jsx("span",{className:"ml-3 text-text-secondary",children:"Loading your dashboard..."})]});if(g)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-3xl flex items-center justify-center mx-auto mb-4",children:e.jsx(a,{size:24,className:"text-red-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-text-secondary",children:"Please contact your landlord to set up your tenant profile."})]});const{leaseInfo:b,paymentHistory:v,upcomingDues:w}=N||{};return e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsxs("div",{className:"app-gradient rounded-3xl p-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to Your Portal"}),e.jsx("p",{className:"text-white/80",children:"Manage your lease, payments, and communicate with your landlord."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-xl flex items-center justify-center",children:e.jsx(i,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Your Property"})]}),b&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(l,{size:16,className:"text-text-muted mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-primary",children:null==(s=b.property)?void 0:s.name}),e.jsxs("p",{className:"text-text-secondary text-sm",children:["Unit ",b.unit," â€¢ ",null==(h=b.property)?void 0:h.street,", ",null==(j=b.property)?void 0:j.city]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{size:16,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-text-primary",children:["$",null==(y=b.rentAmount)?void 0:y.toLocaleString(),"/month"]}),e.jsx("p",{className:"text-text-secondary text-sm",children:"Monthly Rent"})]})]}),b.leaseEndDate&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{size:16,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-primary",children:new Date(b.leaseEndDate).toLocaleDateString()}),e.jsx("p",{className:"text-text-secondary text-sm",children:"Lease Expires"})]})]})]})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-xl flex items-center justify-center",children:e.jsx(c,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Landlord Contact"})]}),(null==b?void 0:b.landlord)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{size:16,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-primary",children:b.landlord.name}),e.jsx("p",{className:"text-text-secondary text-sm",children:"Property Manager"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{size:16,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-primary",children:b.landlord.email}),e.jsx("p",{className:"text-text-secondary text-sm",children:"Email"})]})]})]})]})]}),w&&e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(m,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Upcoming Payment"})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-orange-800",children:["$",null==(u=w.totalAmount)?void 0:u.toLocaleString()]}),e.jsxs("p",{className:"text-orange-600 text-sm",children:["Due: ",new Date(w.dueDate).toLocaleDateString()]})]}),e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:"Pending"})]}),w.lineItems&&w.lineItems.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Payment Details:"}),w.lineItems.map((s,t)=>{var a;return e.jsxs("div",{className:"flex justify-between text-sm text-orange-700",children:[e.jsx("span",{children:s.description}),e.jsxs("span",{children:["$",null==(a=s.amount)?void 0:a.toLocaleString()]})]},t)})]})]})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"app-surface rounded-3xl p-8 border border-app-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 app-gradient rounded-xl flex items-center justify-center",children:e.jsx(o,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Recent Payments"})]}),v&&v.length>0?e.jsx("div",{className:"space-y-4",children:v.slice(0,5).map(s=>{var t;return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-app-bg rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-text-primary",children:["$",null==(t=s.amount)?void 0:t.toLocaleString()]}),e.jsx("p",{className:"text-text-secondary text-sm",children:new Date(s.paymentDate).toLocaleDateString()})]}),e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:s.status})]},s._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(o,{size:48,className:"mx-auto text-text-muted mb-4"}),e.jsx("p",{className:"text-text-secondary",children:"No payment history available"})]})]})]})};export{h as default};
