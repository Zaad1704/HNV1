var e=Object.defineProperty,t=(t,s,r)=>(((t,s,r)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r})(t,"symbol"!=typeof s?s+"":s,r),r);import{r as s,b as r,a as n}from"./vendor-83d6deea.js";import{L as o,u as i,O as a,N as l,a as c,R as d,b as h,B as u}from"./router-225372b8.js";import{u as p,i as m,a as f}from"./i18n-eaa6a7d3.js";import{c as g,a as x}from"./utils-2ffb253a.js";import{A as b,R as y,H as v,a as j,m as w,W as _,b as N,X as k,D as S,M as E,S as A,T as O,G as P,C as L,c as T,d as R,e as C,f as I,B as D,E as z,g as B,I as M,h as q,L as U,P as V,i as H,j as F,U as $,k as K,l as W,n as X,o as J,p as Y,F as G,q as Q,r as Z,s as ee,t as te,u as se,v as re,w as ne,x as oe,y as ie,z as ae,J as le,K as ce}from"./ui-88b07fc3.js";import{u as de,a as he,Q as ue,b as pe}from"./query-c0dd8be7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var me={exports:{}},fe={},ge=s,xe=Symbol.for("react.element"),be=Symbol.for("react.fragment"),ye=Object.prototype.hasOwnProperty,ve=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,je={key:!0,ref:!0,__self:!0,__source:!0};function we(e,t,s){var r,n={},o=null,i=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)ye.call(t,r)&&!je.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:xe,type:e,key:o,ref:i,props:n,_owner:ve.current}}fe.Fragment=be,fe.jsx=we,fe.jsxs=we,me.exports=fe;var _e=me.exports,Ne={},ke=r;Ne.createRoot=ke.createRoot,Ne.hydrateRoot=ke.hydrateRoot;const Se=s.createContext(void 0),Ee=({children:e})=>{const[t,r]=s.useState("light");s.useEffect(()=>{const e=localStorage.getItem("theme");if(e)r(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;r(e?"dark":"light")}},[]),s.useEffect(()=>{document.documentElement.classList.toggle("dark","dark"===t),localStorage.setItem("theme",t)},[t]);return _e.jsx(Se.Provider,{value:{theme:t,toggleTheme:()=>{r(e=>"light"===e?"dark":"light")}},children:e})},Ae=()=>{const e=s.useContext(Se);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},Oe=s.createContext(void 0),Pe=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"bn",name:"Bengali",nativeName:"à¦¬à¦¾à¦‚à¦²à¦¾",flag:"ðŸ‡§ðŸ‡©"},{code:"hi",name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"fr",name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"de",name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"pt",name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡§ðŸ‡·"},{code:"ru",name:"Russian",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"ja",name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"zh",name:"Chinese",nativeName:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ko",name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"},{code:"th",name:"Thai",nativeName:"à¹„à¸—à¸¢",flag:"ðŸ‡¹ðŸ‡­"},{code:"vi",name:"Vietnamese",nativeName:"Tiáº¿ng Viá»‡t",flag:"ðŸ‡»ðŸ‡³"},{code:"id",name:"Indonesian",nativeName:"Bahasa Indonesia",flag:"ðŸ‡®ðŸ‡©"},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",flag:"ðŸ‡²ðŸ‡¾"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"},{code:"tr",name:"Turkish",nativeName:"TÃ¼rkÃ§e",flag:"ðŸ‡¹ðŸ‡·"},{code:"nl",name:"Dutch",nativeName:"Nederlands",flag:"ðŸ‡³ðŸ‡±"},{code:"sv",name:"Swedish",nativeName:"Svenska",flag:"ðŸ‡¸ðŸ‡ª"}],Le=({children:e})=>{const[t,r]=s.useState("en"),[n,o]=s.useState("en"),{i18n:i}=p();s.useEffect(()=>{(async()=>{try{const e=await a(),t=localStorage.getItem("language");if(t)return r(t),void i.changeLanguage(t);const s="en"!==e?e:"en";r(s),i.changeLanguage(s),localStorage.setItem("language",s)}catch{r("en"),o("en"),i.changeLanguage("en"),localStorage.setItem("language","en")}})()},[i]);const a=async()=>{var e;const t=navigator.language.split("-")[0],s=(null==(e=Pe.find(e=>e.code===t))?void 0:e.code)||"es";o(s);try{const e=await fetch("https://ipapi.co/json/",{timeout:3e3});if(e.ok){const t=await e.json(),s=(e=>({BD:"bn",IN:"hi",PK:"hi",CN:"zh",TW:"zh",HK:"zh",SG:"zh",JP:"ja",KR:"ko",TH:"th",VN:"vi",ID:"id",MY:"ms",BN:"ms",ES:"es",MX:"es",AR:"es",CO:"es",PE:"es",VE:"es",CL:"es",FR:"fr",CA:"fr",BE:"fr",CH:"fr",DE:"de",AT:"de",IT:"it",BR:"pt",PT:"pt",RU:"ru",BY:"ru",KZ:"ru",SA:"ar",AE:"ar",EG:"ar",JO:"ar",LB:"ar",SY:"ar",IQ:"ar",TR:"tr",NL:"nl",SE:"sv",NO:"sv",DK:"sv"}[e]||"en"))(t.country_code);if("en"!==s)return o(s),s}}catch(r){}return s},l=e=>{r(e),localStorage.setItem("language",e),i.changeLanguage(e)};return s.useEffect(()=>{i.changeLanguage(t)},[t,i]),_e.jsx(Oe.Provider,{value:{lang:t,detectedLang:n,setLang:l,toggleLanguage:()=>{l("en"===t?"en"!==n?n:"es":"en")},getNextToggleLanguage:()=>"en"===t?Pe.find(e=>e.code===n)||Pe.find(e=>"es"===e.code)||Pe[1]:Pe[0]},children:e})},Te=()=>{const e=s.useContext(Oe);if(!e)throw new Error("useLang must be used within LanguageProvider");return e},Re=e=>({BD:"bn",IN:"bn",US:"en",GB:"en",CA:"en",AU:"en",NZ:"en",IE:"en",ZA:"en"}[e]||"en"),Ce=s.createContext(void 0),Ie={US:{symbol:"$",code:"USD"},CA:{symbol:"C$",code:"CAD"},GB:{symbol:"Â£",code:"GBP"},AU:{symbol:"A$",code:"AUD"},NZ:{symbol:"NZ$",code:"NZD"},EU:{symbol:"â‚¬",code:"EUR"},DE:{symbol:"â‚¬",code:"EUR"},FR:{symbol:"â‚¬",code:"EUR"},ES:{symbol:"â‚¬",code:"EUR"},IT:{symbol:"â‚¬",code:"EUR"},NL:{symbol:"â‚¬",code:"EUR"},JP:{symbol:"Â¥",code:"JPY"},CN:{symbol:"Â¥",code:"CNY"},IN:{symbol:"â‚¹",code:"INR"},BD:{symbol:"à§³",code:"BDT"},BR:{symbol:"R$",code:"BRL"},MX:{symbol:"$",code:"MXN"},AR:{symbol:"$",code:"ARS"},KR:{symbol:"â‚©",code:"KRW"},SG:{symbol:"S$",code:"SGD"},HK:{symbol:"HK$",code:"HKD"},CH:{symbol:"CHF",code:"CHF"},SE:{symbol:"kr",code:"SEK"},NO:{symbol:"kr",code:"NOK"},DK:{symbol:"kr",code:"DKK"},RU:{symbol:"â‚½",code:"RUB"},ZA:{symbol:"R",code:"ZAR"},AE:{symbol:"Ø¯.Ø¥",code:"AED"},SA:{symbol:"Ø±.Ø³",code:"SAR"},EG:{symbol:"Ø¬.Ù…",code:"EGP"},TR:{symbol:"â‚º",code:"TRY"},PL:{symbol:"zÅ‚",code:"PLN"},TH:{symbol:"à¸¿",code:"THB"},MY:{symbol:"RM",code:"MYR"},ID:{symbol:"Rp",code:"IDR"},PH:{symbol:"â‚±",code:"PHP"},VN:{symbol:"â‚«",code:"VND"}},De=({children:e})=>{const{location:t}=(()=>{const[e,t]=s.useState(null),[r,n]=s.useState(!0);return s.useEffect(()=>{(async()=>{try{const e={country_name:"United States",country_code:"US",currency:"USD"},s={country:e.country_name||"United States",countryCode:e.country_code||"US",language:Re(e.country_code||"US"),currency:e.currency||"USD"};t(s)}catch(e){t({country:"United States",countryCode:"US",language:"en",currency:"USD"})}finally{n(!1)}})()},[]),{location:e,isLoading:r}})(),[r,n]=s.useState("USD"),[o,i]=s.useState("$");s.useEffect(()=>{if(null==t?void 0:t.countryCode){const e=localStorage.getItem("preferredCurrency");if(e){const t=Object.values(Ie).find(t=>t.code===e);if(t)return n(t.code),void i(t.symbol)}const s=Ie[t.countryCode]||Ie.US;n(s.code),i(s.symbol)}},[t]);return _e.jsx(Ce.Provider,{value:{currency:o,currencyCode:r,setCurrency:e=>{const t=Object.values(Ie).find(t=>t.code===e);t&&(n(e),i(t.symbol),localStorage.setItem("preferredCurrency",e))}},children:e})},ze=()=>{const e=s.useContext(Ce);if(!e)throw new Error("useCurrency must be used within CurrencyProvider");return e},Be={},Me=function(e,t,s){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in Be)return;Be[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(!!s)for(let s=r.length-1;s>=0;s--){const n=r[s];if(n.href===e&&(!t||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise((t,s)=>{o.addEventListener("load",t),o.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};function qe(e,t){let s;try{s=e()}catch(r){return}return{getItem:e=>{var r;const n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(r=s.getItem(e))?r:null;return o instanceof Promise?o.then(n):n(o)},setItem:(e,r)=>s.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>s.removeItem(e)}}const Ue=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>Ue(e)(s),catch(e){return this}}}catch($r){return{then(e){return this},catch:t=>Ue(t)($r)}}},Ve=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(s,r,n)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const a=new Set,l=new Set;let c;try{c=o.getStorage()}catch(g){}if(!c)return e((...e)=>{s(...e)},r,n);const d=Ue(o.serialize),h=()=>{const e=o.partialize({...r()});let t;const s=d({state:e,version:o.version}).then(e=>c.setItem(o.name,e)).catch(e=>{t=e});if(t)throw t;return s},u=n.setState;n.setState=(e,t)=>{u(e,t),h()};const p=e((...e)=>{s(...e),h()},r,n);let m;const f=()=>{var e;if(!c)return;i=!1,a.forEach(e=>e(r()));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return Ue(c.getItem.bind(c))(o.name).then(e=>{if(e)return o.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version)}}).then(e=>{var t;return m=o.merge(e,null!=(t=r())?t:p),s(m,!0),h()}).then(()=>{null==t||t(m,void 0),i=!0,l.forEach(e=>e(m))}).catch(e=>{null==t||t(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},f(),m||p})(e,t):((e,t)=>(s,r,n)=>{let o={storage:qe(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return e((...e)=>{s(...e)},r,n);const d=()=>{const e=o.partialize({...r()});return c.setItem(o.name,{state:e,version:o.version})},h=n.setState;n.setState=(e,t)=>{h(e,t),d()};const u=e((...e)=>{s(...e),d()},r,n);let p;n.getInitialState=()=>u;const m=()=>{var e,t;if(!c)return;i=!1,a.forEach(e=>{var t;return e(null!=(t=r())?t:u)});const n=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=r())?e:u))||void 0;return Ue(c.getItem.bind(c))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[n,i]=e;if(p=o.merge(i,null!=(t=r())?t:u),s(p,!0),n)return d()}).then(()=>{null==n||n(p,void 0),p=r(),i=!0,l.forEach(e=>e(p))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||m(),p||u})(e,t),He=g()(Ve((e,t)=>({token:null,user:null,isAuthenticated:!1,loading:!1,setToken:t=>e({token:t,isAuthenticated:!!t}),setUser:t=>e({user:t}),login:(t,s)=>e({token:t,user:s,isAuthenticated:!0}),logout:()=>e({token:null,user:null,isAuthenticated:!1})}),{name:"auth-storage"}));const Fe=new class{constructor(){t(this,"requests",new Map)}isAllowed(e,t=10,s=6e4){const r=Date.now(),n=(this.requests.get(e)||[]).filter(e=>r-e<s);return!(n.length>=t)&&(n.push(r),this.requests.set(e,n),!0)}},$e=x.create({baseURL:"https://hnv-backend.onrender.com/api",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-Client-Version":"1.0.0"},timeout:3e4,withCredentials:!0});$e.interceptors.request.use(e=>{const t=e.url||"";if(!Fe.isAllowed(t,30,6e4))return Promise.reject(new Error("Rate limit exceeded"));const s=He.getState().token;return s&&(e.headers.Authorization=`Bearer ${s}`),e.headers["X-Request-Time"]=Date.now().toString(),e}),$e.interceptors.response.use(e=>e,e=>{var t,s,r,n,o,i;if("ERR_NETWORK"===e.code?e.userMessage="Network connection error. Please check your internet connection.":"ECONNABORTED"===e.code&&(e.userMessage="Request timed out. Server may be starting up."),401===(null==(t=e.response)?void 0:t.status)){const{token:e,isAuthenticated:t}=He.getState();e&&t&&(He.getState().logout(),setTimeout(()=>{"/login"!==window.location.pathname&&(window.location.href="/login?session=expired")},100))}else 403===(null==(s=e.response)?void 0:s.status)?e.userMessage=(null==(n=null==(r=e.response)?void 0:r.data)?void 0:n.message)||"Access denied":429===(null==(o=e.response)?void 0:o.status)?e.userMessage="Too many requests. Please wait a moment and try again.":(null==(i=e.response)?void 0:i.status)>=500&&(e.userMessage="Server error. Please try again later.");return Promise.reject(e)});class Ke extends s.Component{constructor(e){super(e),t(this,"logErrorToService",(e,t)=>{try{window.gtag&&window.gtag("event","exception",{description:e.toString(),fatal:!1,error_id:this.state.errorId}),fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:e.toString(),stack:e.stack,componentStack:t.componentStack,errorId:this.state.errorId,url:window.location.href,userAgent:navigator.userAgent,timestamp:(new Date).toISOString()})}).catch(()=>{})}catch(s){}}),t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})}),t(this,"handleReload",()=>{window.location.reload()}),t(this,"handleGoHome",()=>{window.location.href="/"}),this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:Date.now().toString(36)+Math.random().toString(36).substr(2)}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,errorId:Date.now().toString(36)+Math.random().toString(36).substr(2)}),this.logErrorToService(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:_e.jsx("div",{className:"min-h-screen bg-app-bg flex items-center justify-center p-4",children:_e.jsxs("div",{className:"max-w-md w-full app-surface rounded-3xl p-8 border border-app-border shadow-app-lg text-center",children:[_e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:_e.jsx(b,{size:32,className:"text-red-600"})}),_e.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:"Oops! Something went wrong"}),_e.jsx("p",{className:"text-text-secondary mb-6",children:"We're sorry for the inconvenience. The error has been reported and we're working to fix it."}),!1,_e.jsxs("div",{className:"space-y-3",children:[_e.jsxs("button",{onClick:this.handleRetry,className:"w-full btn-gradient py-3 rounded-2xl font-semibold flex items-center justify-center gap-2",children:[_e.jsx(y,{size:20}),"Try Again"]}),_e.jsxs("div",{className:"flex gap-3",children:[_e.jsx("button",{onClick:this.handleReload,className:"flex-1 py-3 rounded-2xl font-semibold border border-app-border text-text-secondary hover:text-text-primary hover:bg-app-bg transition-colors",children:"Reload Page"}),_e.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 py-3 rounded-2xl font-semibold border border-app-border text-text-secondary hover:text-text-primary hover:bg-app-bg transition-colors flex items-center justify-center gap-2",children:[_e.jsx(v,{size:16}),"Go Home"]})]})]}),_e.jsxs("p",{className:"text-xs text-text-muted mt-6",children:["Error ID: ",this.state.errorId]})]})}):this.props.children}}const We=()=>{const{isOnline:e,isOffline:t,wasOffline:r}=(()=>{const[e,t]=s.useState(navigator.onLine),[r,n]=s.useState(!1);return s.useEffect(()=>{const e=()=>{t(!0)},s=()=>{t(!1),n(!0)};window.addEventListener("online",e),window.addEventListener("offline",s);const r=setInterval(async()=>{try{const e=await fetch("/api/health",{method:"HEAD",cache:"no-cache"});t(e.ok)}catch{t(!1)}},3e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s),clearInterval(r)}},[r]),{isOnline:e,isOffline:!e,wasOffline:r}})();return _e.jsxs(j,{children:[t&&_e.jsx(w.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 bg-red-500 text-white px-4 py-3 text-center text-sm font-medium shadow-lg",children:_e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_e.jsx(_,{size:16}),_e.jsx("span",{children:"You're offline. Some features may not work."})]})}),e&&r&&_e.jsx(w.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},onAnimationComplete:()=>{setTimeout(()=>{},3e3)},className:"fixed top-0 left-0 right-0 z-50 bg-green-500 text-white px-4 py-3 text-center text-sm font-medium shadow-lg",children:_e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_e.jsx(N,{size:16}),_e.jsx("span",{children:"Connection restored!"})]})})]})},Xe=({size:e="md",color:t="primary",text:s,fullScreen:r=!1,overlay:n=!1})=>{const o=_e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[_e.jsx(w.div,{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[e]} border-4 ${{primary:"border-brand-blue",secondary:"border-text-secondary",white:"border-white"}[t]} border-t-transparent rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),s&&_e.jsx(w.p,{className:`${{sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e]} font-medium ${"white"===t?"text-white":"text-text-secondary"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:s})]});return r?_e.jsx("div",{className:"fixed inset-0 bg-app-bg flex items-center justify-center z-50",children:o}):n?_e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-40",children:o}):o},Je=()=>de({queryKey:["siteSettings"],queryFn:async()=>{const{data:e}=await $e.get("/site-settings");return e.data},staleTime:3e5}),Ye=({isOpen:e,onClose:t,platform:s,canDirectInstall:r,onInstall:n,instructions:o})=>{p();return _e.jsx(j,{children:e&&_e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:_e.jsxs(w.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"app-surface rounded-3xl shadow-app-xl w-full max-w-md border border-app-border",children:[_e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-app-border",children:[_e.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Install HNV App"}),_e.jsx("button",{onClick:t,className:"p-2 rounded-full text-text-secondary hover:text-text-primary hover:bg-app-bg transition-all",children:_e.jsx(k,{size:20})})]}),_e.jsxs("div",{className:"p-6 text-center",children:[_e.jsx("div",{className:"mb-6",children:(()=>{switch(s){case"ios":return _e.jsx(O,{size:48,className:"text-brand-blue"});case"android":return _e.jsx(A,{size:48,className:"text-brand-orange"});case"desktop":return _e.jsx(E,{size:48,className:"text-brand-blue"});default:return _e.jsx(S,{size:48,className:"text-brand-orange"})}})()}),_e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:o.title}),r?_e.jsxs("div",{className:"space-y-4",children:[_e.jsx("p",{className:"text-text-secondary",children:"Install HNV as a native app for the best experience"}),_e.jsxs("button",{onClick:n,className:"w-full btn-gradient py-3 rounded-2xl font-semibold flex items-center justify-center gap-2",children:[_e.jsx(S,{size:20}),"Install Now"]})]}):_e.jsxs("div",{className:"space-y-4",children:[_e.jsx("p",{className:"text-text-secondary mb-4",children:"Follow these steps to install:"}),_e.jsx("div",{className:"text-left space-y-3",children:o.steps.map((e,t)=>_e.jsxs("div",{className:"flex items-start gap-3",children:[_e.jsx("div",{className:"w-6 h-6 bg-brand-blue text-white rounded-full flex items-center justify-center text-sm font-semibold flex-shrink-0 mt-0.5",children:t+1}),_e.jsx("p",{className:"text-text-secondary text-sm",children:e})]},t))})]}),_e.jsx("div",{className:"mt-6 p-4 bg-app-bg rounded-2xl",children:_e.jsx("p",{className:"text-xs text-text-muted",children:"Installing the app gives you faster access, offline capabilities, and native notifications."})})]})]})})})},Ge=()=>{var e;const{lang:t,detectedLang:r,toggleLanguage:n,setLang:o}=Te(),[i,a]=s.useState(!1),l=s.useRef(null);Pe.find(e=>e.code===t);const c=Pe.find(e=>e.code===r);return s.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),_e.jsxs("div",{className:"flex items-center gap-2",ref:l,children:[_e.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 text-white border border-white/30 transition-all duration-200 text-sm font-medium shadow-sm backdrop-blur-sm",title:`Switch to ${"en"===t?(null==c?void 0:c.name)||"Spanish":"English"}`,children:[_e.jsx("span",{className:"text-base",children:"en"===t?(null==c?void 0:c.flag)||"ðŸ‡ªðŸ‡¸":"ðŸ‡ºðŸ‡¸"}),_e.jsx("span",{className:"font-bold",children:"en"===t?(null==(e=null==c?void 0:c.code)?void 0:e.toUpperCase())||"ES":"EN"})]}),_e.jsxs("div",{className:"relative",children:[_e.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-1 p-2 rounded-lg bg-white/20 hover:bg-white/30 text-white border border-white/30 transition-all duration-200 shadow-sm backdrop-blur-sm",title:"All Languages",children:[_e.jsx(P,{size:18,className:"text-white"}),_e.jsx(L,{size:14,className:"text-white transition-transform duration-200 "+(i?"rotate-180":"")})]}),i&&_e.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 z-[9999] overflow-hidden max-h-80 overflow-y-auto",style:{maxWidth:"min(256px, calc(100vw - 2rem))"},children:_e.jsxs("div",{className:"p-2",children:[_e.jsx("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-2 uppercase tracking-wide border-b border-gray-100 dark:border-gray-700 mb-1",children:"Select Language"}),Pe.map(e=>_e.jsxs("button",{onClick:()=>{o(e.code),a(!1)},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors "+(t===e.code?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 ring-1 ring-blue-200 dark:ring-blue-800":"text-gray-700 dark:text-gray-300"),children:[_e.jsx("span",{className:"text-xl",children:e.flag}),_e.jsxs("div",{className:"text-left flex-1",children:[_e.jsx("div",{className:"font-medium text-sm",children:e.name}),_e.jsx("div",{className:"text-xs opacity-60",children:e.nativeName})]}),t===e.code&&_e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},e.code))]})})]})]})},Qe=()=>{var e,t,r,n,i,a;const{data:l}=Je();Te();const{theme:c,toggleTheme:d}=Ae(),{t:h}=p(),[u,m]=s.useState(!1),[f,g]=s.useState(!1),{isInstallable:x,isInstalled:b,platform:y,installPWA:v,getInstallInstructions:j,canDirectInstall:w}=(()=>{const[e,t]=s.useState(null),[r,n]=s.useState(!1),[o,i]=s.useState(!1),[a,l]=s.useState("unknown");return s.useEffect(()=>{const e=navigator.userAgent.toLowerCase(),s=/iphone|ipad|ipod/.test(e),r=/macintosh|mac os x/.test(e),a=/android/.test(e),c=/windows/.test(e);if(s?l("ios"):a?l("android"):(r||c)&&l("desktop"),window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return void i(!0);const d=e=>{e.preventDefault(),t(e),n(!0)};return window.addEventListener("beforeinstallprompt",d),s&&!o&&n(!0),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]),{isInstallable:r,isInstalled:o,platform:a,installPWA:async()=>{if(e&&"android"===a){e.prompt();const{outcome:s}=await e.userChoice;"accepted"===s&&(n(!1),i(!0)),t(null)}},getInstallInstructions:()=>{switch(a){case"ios":return{title:"Install on iPhone/iPad",steps:["Tap the Share button at the bottom of Safari",'Scroll down and tap "Add to Home Screen"','Tap "Add" to install the app']};case"desktop":return{title:"Install on Desktop",steps:["Look for the install icon in your browser address bar","Click the install button or use browser menu","Follow the installation prompts"]};default:return{title:"Install App",steps:["Use your browser's install option"]}}},canDirectInstall:"android"===a&&null!==e}})(),_=()=>{w?v():g(!0)};return _e.jsxs("header",{className:"gradient-dark-orange-blue sticky top-0 z-50 backdrop-blur-md rounded-b-3xl shadow-app-xl border-b-4 border-white/20",children:[_e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[_e.jsxs("div",{className:"hidden md:grid md:grid-cols-3 items-center w-full",children:[_e.jsxs("div",{className:"flex items-center gap-3 justify-start",children:[_e.jsx(Ge,{}),_e.jsx("button",{onClick:d,className:"btn-glass p-3 rounded-full hover:scale-110 transition-transform",title:`Switch to ${"light"===c?"Dark":"Light"} Mode`,children:"light"===c?_e.jsx(T,{size:20}):_e.jsx(R,{size:20})}),x&&!b&&_e.jsx("button",{onClick:_,className:"btn-glass p-3 rounded-full hover:scale-110 transition-transform",title:`Install App - ${y}`,children:_e.jsx(S,{size:20})})]}),_e.jsxs(o,{to:"/",className:"flex items-center justify-center gap-3 text-xl font-bold text-white hover:scale-105 transition-transform",children:[_e.jsx("img",{src:(null==(e=null==l?void 0:l.logos)?void 0:e.faviconUrl)||"/logo-min.png",alt:"Logo",className:"h-10 w-10 rounded-xl object-contain shadow-lg"}),_e.jsx("span",{className:"text-center drop-shadow-lg",children:(null==(t=null==l?void 0:l.logos)?void 0:t.companyName)||"HNV Property Management Solutions"})]}),_e.jsxs("div",{className:"flex justify-end items-center gap-4",children:[_e.jsx(o,{to:"/login",className:"text-white hover:text-white/80 font-semibold px-4 py-2 rounded-full hover:bg-white/10 transition-all",children:h("header.login")}),_e.jsxs(o,{to:"/register",className:"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 flex items-center gap-2 font-semibold px-6 py-3 rounded-full border border-white/30 hover:scale-105 transition-all shadow-lg",children:[h("header.get_started"),_e.jsx(C,{size:16})]})]})]}),_e.jsxs("div",{className:"md:hidden",children:[_e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_e.jsx("button",{onClick:()=>m(!0),className:"btn-glass p-2 rounded-full flex-shrink-0",children:_e.jsx(I,{size:16})}),_e.jsxs(o,{to:"/",className:"flex items-center gap-1 text-white flex-1 justify-center px-2",children:[_e.jsx("img",{src:(null==(r=null==l?void 0:l.logos)?void 0:r.faviconUrl)||"/logo-min.png",alt:"Logo",className:"h-5 w-5 rounded-lg object-contain flex-shrink-0"}),_e.jsxs("div",{className:"flex flex-col leading-tight min-w-0",children:[_e.jsx("span",{className:"text-xs font-bold truncate",children:(null==(n=null==l?void 0:l.logos)?void 0:n.companyName)||"HNV Property Management Solutions"}),_e.jsx("span",{className:"text-xs text-white/70 truncate",children:h("common.property_management")})]})]}),_e.jsx(o,{to:"/register",className:"btn-glass px-2 py-1 rounded-full text-xs font-semibold flex-shrink-0",children:h("header.get_started")})]}),_e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_e.jsx("div",{className:"scale-75",children:_e.jsx(Ge,{})}),_e.jsx("button",{onClick:d,className:"btn-glass p-1.5 rounded-full",title:`Switch to ${"light"===c?"Dark":"Light"} Mode`,children:"light"===c?_e.jsx(T,{size:14}):_e.jsx(R,{size:14})})]})]})]}),u&&_e.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-50",children:_e.jsxs("div",{className:"bg-app-surface h-full w-80 max-w-[85vw] shadow-2xl",children:[_e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-app-border",children:[_e.jsxs("div",{className:"flex items-center gap-3",children:[_e.jsx("img",{src:(null==(i=null==l?void 0:l.logos)?void 0:i.faviconUrl)||"/logo-min.png",alt:"Logo",className:"h-10 w-10 rounded-xl object-contain"}),_e.jsxs("div",{children:[_e.jsx("h2",{className:"text-lg font-bold text-text-primary",children:(null==(a=null==l?void 0:l.logos)?void 0:a.companyName)||"HNV Property Management Solutions"}),_e.jsx("p",{className:"text-sm text-text-secondary",children:h("common.property_management")})]})]}),_e.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-full text-text-secondary hover:text-text-primary",children:_e.jsx(k,{size:24})})]}),_e.jsxs("div",{className:"p-6 space-y-4",children:[_e.jsx("div",{className:"w-full p-4",children:_e.jsx(Ge,{})}),_e.jsxs("button",{onClick:()=>{d(),m(!1)},className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:["light"===c?_e.jsx(T,{size:24,className:"text-brand-orange"}):_e.jsx(R,{size:24,className:"text-brand-orange"}),_e.jsxs("div",{className:"text-left",children:[_e.jsx("p",{className:"font-semibold text-text-primary",children:h("common.theme")}),_e.jsxs("p",{className:"text-sm text-text-secondary",children:["Switch to ","light"===c?"Dark":"Light"," Mode"]})]})]}),_e.jsxs("a",{href:"/#about",onClick:()=>m(!1),className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:[_e.jsx("div",{className:"w-6 h-6 bg-brand-blue rounded-full flex items-center justify-center",children:_e.jsx("span",{className:"text-white text-sm",children:"i"})}),_e.jsxs("div",{className:"text-left",children:[_e.jsx("p",{className:"font-semibold text-text-primary",children:h("common.about")}),_e.jsx("p",{className:"text-sm text-text-secondary",children:h("common.learn_more")})]})]}),_e.jsxs("a",{href:"/#contact",onClick:()=>m(!1),className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:[_e.jsx("div",{className:"w-6 h-6 bg-brand-orange rounded-full flex items-center justify-center",children:_e.jsx("span",{className:"text-white text-sm",children:"@"})}),_e.jsxs("div",{className:"text-left",children:[_e.jsx("p",{className:"font-semibold text-text-primary",children:h("nav.contact")}),_e.jsx("p",{className:"text-sm text-text-secondary",children:"Get in touch"})]})]}),x&&!b&&_e.jsxs("button",{onClick:()=>{_(),m(!1)},className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:[_e.jsx(S,{size:24,className:"text-brand-orange"}),_e.jsxs("div",{className:"text-left",children:[_e.jsx("p",{className:"font-semibold text-text-primary",children:"Install App"}),_e.jsxs("p",{className:"text-sm text-text-secondary",children:["Native experience for ",y]})]})]}),_e.jsx(o,{to:"/register",onClick:()=>m(!1),className:"w-full gradient-dark-orange-blue p-4 rounded-full text-center font-semibold text-white",children:h("header.get_started")})]})]})}),_e.jsx(Ye,{isOpen:f,onClose:()=>g(!1),platform:y,canDirectInstall:w,onInstall:()=>{v(),g(!1)},instructions:j()})]})},Ze=()=>{var e,t,s,r,n,i;const{data:a}=Je();return _e.jsx("footer",{className:"gradient-dark-orange-blue text-white py-12 rounded-t-3xl shadow-app-xl border-t-4 border-white/20 mt-20",children:_e.jsxs("div",{className:"container mx-auto px-4",children:[_e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[_e.jsxs("div",{className:"md:col-span-2",children:[_e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[(null==(e=null==a?void 0:a.logos)?void 0:e.footerLogoUrl)&&_e.jsx("img",{src:a.logos.footerLogoUrl,alt:"Logo",className:"h-8 w-8 rounded-lg"}),_e.jsx("span",{className:"text-xl font-bold",children:(null==(t=null==a?void 0:a.logos)?void 0:t.companyName)||"HNV Solutions"})]}),_e.jsx("p",{className:"text-white/80 mb-4 max-w-md",children:(null==(s=null==a?void 0:a.footer)?void 0:s.description)||"Modern property management solutions for landlords and agents."})]}),_e.jsxs("div",{children:[_e.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),_e.jsx("div",{className:"space-y-2",children:(null==(n=null==(r=null==a?void 0:a.footer)?void 0:r.quickLinks)?void 0:n.map(e=>_e.jsx("a",{href:e.url,className:"block text-white/80 hover:text-white transition-colors",children:e.text},e.text)))||_e.jsxs(_e.Fragment,{children:[_e.jsx(o,{to:"/#about",className:"block text-white/80 hover:text-white transition-colors",children:"About"}),_e.jsx(o,{to:"/#features",className:"block text-white/80 hover:text-white transition-colors",children:"Features"}),_e.jsx(o,{to:"/#pricing",className:"block text-white/80 hover:text-white transition-colors",children:"Pricing"})]})})]}),_e.jsxs("div",{children:[_e.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),_e.jsxs("div",{className:"space-y-2",children:[_e.jsx(o,{to:"/privacy",className:"block text-white/80 hover:text-white transition-colors",children:"Privacy Policy"}),_e.jsx(o,{to:"/terms",className:"block text-white/80 hover:text-white transition-colors",children:"Terms of Service"})]})]})]}),_e.jsx("div",{className:"border-t border-white/20 mt-8 pt-8 text-center",children:_e.jsx("p",{className:"text-white/60",children:(null==(i=null==a?void 0:a.footer)?void 0:i.copyrightText)||"Â© 2024 HNV Solutions. All rights reserved."})})]})})},et=async()=>{const{data:e}=await $e.get("/notifications");return e.data},tt=()=>{const[e,t]=s.useState(!1),r=he(),{notifications:n,unreadCount:i,markAsRead:a,markAllAsRead:l,removeNotification:c,requestPermission:d}=(()=>{const[e,t]=s.useState([]),[r,n]=s.useState(0),{user:o}=He();s.useEffect(()=>{if(!o)return;const e=setInterval(()=>{if(Math.random()>.95){const e={id:Date.now().toString(),title:"New Rent Payment",message:"John Doe has paid rent for Property A",type:"success",timestamp:new Date,read:!1,action:{label:"View Payment",url:"/dashboard/payments"}};i(e)}},1e4);return()=>clearInterval(e)},[o]);const i=e=>{t(t=>[e,...t.slice(0,49)]),n(e=>e+1),"granted"===Notification.permission&&new Notification(e.title,{body:e.message,icon:"/pwa-192x192.png",badge:"/pwa-192x192.png"})};return{notifications:e,unreadCount:r,addNotification:i,markAsRead:e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),n(e=>Math.max(0,e-1))},markAllAsRead:()=>{t(e=>e.map(e=>({...e,read:!0}))),n(0)},removeNotification:e=>{t(t=>t.filter(t=>t.id!==e))},requestPermission:async()=>"Notification"in window&&"granted"===await Notification.requestPermission()}})(),{data:h=[]}=de({queryKey:["notifications"],queryFn:et});s.useEffect(()=>{d().catch(console.error)},[]);const u=[...n,...h],p=i+h.filter(e=>!e.isRead).length,m=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),r=Math.floor(s/6e4),n=Math.floor(s/36e5),o=Math.floor(s/864e5);return r<1?"Just now":r<60?`${r}m ago`:n<24?`${n}h ago`:`${o}d ago`};return _e.jsxs("div",{className:"relative",children:[_e.jsxs("button",{onClick:()=>{t(!0),p>0&&(async()=>{await $e.post("/notifications/mark-as-read")})().then(()=>{r.invalidateQueries({queryKey:["notifications"]})})},className:"relative p-2 rounded-full text-text-secondary hover:text-text-primary transition-colors",children:[_e.jsx(D,{size:20}),p>0&&_e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:p>9?"9+":p})]}),_e.jsx(j,{children:e&&_e.jsxs(_e.Fragment,{children:[_e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>t(!1)}),_e.jsxs(w.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 w-80 app-surface rounded-2xl border border-app-border shadow-app-xl z-50",children:[_e.jsxs("div",{className:"p-4 border-b border-app-border flex items-center justify-between",children:[_e.jsx("h3",{className:"font-semibold text-text-primary",children:"Notifications"}),_e.jsxs("div",{className:"flex items-center gap-2",children:[p>0&&_e.jsx("button",{onClick:l,className:"text-xs text-brand-blue hover:text-brand-blue/80 font-medium",children:"Mark all read"}),_e.jsx("button",{onClick:()=>t(!1),className:"p-1 rounded-full text-text-secondary hover:text-text-primary",children:_e.jsx(k,{size:16})})]})]}),_e.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.length>0?u.map(e=>_e.jsx("div",{className:"p-4 border-b border-app-border last:border-b-0 hover:bg-app-bg/50 transition-colors "+(e.isRead||e.read?"":"bg-brand-blue/5"),children:_e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[_e.jsxs("div",{className:"flex-1",children:[_e.jsx("h4",{className:"font-semibold text-text-primary text-sm",children:e.title||"Notification"}),_e.jsx("p",{className:"text-text-secondary text-xs mt-1",children:e.message}),_e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[_e.jsx("span",{className:"text-text-muted text-xs",children:m(e.timestamp||e.createdAt)}),e.action&&_e.jsxs(o,{to:e.action.url,className:"text-xs text-brand-blue hover:text-brand-blue/80 flex items-center gap-1",onClick:()=>t(!1),children:[e.action.label,_e.jsx(z,{size:10})]})]})]}),_e.jsxs("div",{className:"flex flex-col gap-1",children:[!e.isRead&&!e.read&&_e.jsx("button",{onClick:()=>a(e.id||e._id),className:"p-1 rounded-full text-text-muted hover:text-text-primary hover:bg-app-bg transition-colors",children:_e.jsx(B,{size:14})}),e.id&&_e.jsx("button",{onClick:()=>c(e.id),className:"p-1 rounded-full text-text-muted hover:text-red-500 hover:bg-red-50 transition-colors",children:_e.jsx(k,{size:14})})]})]})},e._id||e.id)):_e.jsxs("div",{className:"p-8 text-center",children:[_e.jsx(D,{size:32,className:"mx-auto text-text-muted mb-2"}),_e.jsx("p",{className:"text-text-secondary text-sm",children:"No notifications"})]})})]})]})})]})},st=({onMenuToggle:e,showNotifications:t=!1,title:r})=>{const{theme:n,toggleTheme:o}=Ae(),{t:i}=p();return s.useState(!1),_e.jsx(_e.Fragment,{children:_e.jsx("header",{className:"fixed top-0 left-0 right-0 z-30 h-16 bg-gradient-to-r from-brand-orange/90 to-brand-blue/90 backdrop-blur-md border-b border-white/20 shadow-app",children:_e.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[_e.jsx("button",{onClick:e,className:"touch-target p-2 rounded-xl text-white hover:text-white hover:bg-white/20 transition-colors","aria-label":"Open menu",children:_e.jsx(I,{size:20})}),_e.jsx("h1",{className:"text-sm font-bold text-white truncate px-2",children:r||i("app_name")}),_e.jsxs("div",{className:"flex items-center gap-1",children:[_e.jsx("div",{className:"relative",children:_e.jsx(Ge,{})}),_e.jsx("button",{onClick:o,className:"touch-target p-2 rounded-xl text-white hover:text-white hover:bg-white/20 transition-colors","aria-label":`Switch to ${"light"===n?"dark":"light"} mode`,children:"light"===n?_e.jsx(T,{size:18}):_e.jsx(R,{size:18})}),t&&_e.jsx(tt,{})]})]})})})},rt=({type:e})=>{const t=i(),{t:r}=p();He();const[n,a]=s.useState(!1),l=e=>{if("/"!==t.pathname)window.location.href=`/#${e}`;else{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}},c=[{id:"about",icon:M,label:r("nav.about"),action:()=>l("about")},{id:"pricing",icon:q,label:r("nav.pricing"),action:()=>l("pricing")},{id:"login",icon:U,label:r("nav.login"),path:"/login",isCenter:!0},{id:"contact",icon:V,label:r("nav.contact"),action:()=>l("contact")},{id:"more",icon:H,label:"More",isMore:!0}],d=[{id:"properties",icon:F,label:r("dashboard.properties"),path:"/dashboard/properties"},{id:"tenants",icon:$,label:r("dashboard.tenants"),path:"/dashboard/tenants"},{id:"overview",icon:v,label:r("dashboard.overview"),path:"/dashboard/overview",isCenter:!0},{id:"payments",icon:K,label:r("dashboard.payments"),path:"/dashboard/payments"},{id:"more",icon:H,label:"More",isMore:!0}],h="public"===e?[{id:"features",label:"Features",action:()=>l("features")},{id:"services",label:"Services",action:()=>l("services")},{id:"leadership",label:"Team",action:()=>l("leadership")}]:[{id:"expenses",label:r("dashboard.expenses"),path:"/dashboard/expenses"},{id:"maintenance",label:r("dashboard.maintenance"),path:"/dashboard/maintenance"},{id:"cashflow",label:r("dashboard.cash_flow"),path:"/dashboard/cashflow"},{id:"settings",label:r("dashboard.settings"),path:"/dashboard/settings"}],u="public"===e?c:d,m=({item:e})=>{const s=(e=>!!e.path&&(t.pathname===e.path||"overview"===e.id&&"/dashboard"===t.pathname))(e),r=e.icon;if(e.isMore)return _e.jsxs("button",{onClick:()=>a(!n),className:"touch-target flex flex-col items-center justify-center p-2 transition-all duration-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"More options","aria-expanded":n,children:[_e.jsx("div",{className:"p-2 rounded-xl",children:_e.jsx(r,{size:20,className:"text-gray-600 dark:text-gray-400"})}),_e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mt-1",children:e.label})]});if(e.isCenter){const t=_e.jsxs("div",{className:"touch-target flex flex-col items-center justify-center transition-all duration-200 transform hover:scale-105",children:[_e.jsxs("div",{className:"relative",children:[_e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-2xl shadow-lg flex items-center justify-center transform hover:scale-110 transition-transform",children:_e.jsx(r,{size:28,className:"text-white drop-shadow-sm"})}),s&&_e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-3 bg-yellow-500 rounded-full border-2 border-white"})]}),_e.jsx("span",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:e.label})]});return e.path?_e.jsx(o,{to:e.path,className:"flex-1 flex justify-center",children:t}):_e.jsx("button",{onClick:e.action,className:"flex-1 flex justify-center",children:t})}const i=_e.jsxs("div",{className:"touch-target flex flex-col items-center justify-center p-2 transition-all duration-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:[_e.jsx("div",{className:"p-3 rounded-xl transition-colors "+(s?"bg-blue-100 dark:bg-blue-900 shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:_e.jsx(r,{size:22,className:s?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"})}),_e.jsx("span",{className:"text-xs font-medium mt-1 text-center "+(s?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"),children:e.label}),s&&_e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]});return e.path?_e.jsx(o,{to:e.path,className:"flex-1 flex justify-center",children:i}):_e.jsx("button",{onClick:e.action,className:"flex-1 flex justify-center",children:i})};return _e.jsxs(_e.Fragment,{children:[n&&_e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>a(!1),children:_e.jsx("div",{className:"absolute bottom-20 left-4 right-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4",children:_e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(e=>_e.jsx("button",{onClick:()=>{a(!1),e.path?window.location.href=e.path:e.action&&e.action()},className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:_e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.label})},e.id))})})}),_e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white/98 dark:bg-gray-900/98 backdrop-blur-lg border-t border-gray-200/50 dark:border-gray-700/50 shadow-lg",role:"navigation","aria-label":"Bottom navigation",children:_e.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-area-bottom max-w-md mx-auto",children:u.map(e=>_e.jsx(m,{item:e},e.id))})})]})};function nt(e){const[t,r]=s.useState(!1);return s.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&r(s.matches);const n=()=>r(s.matches);return s.addEventListener("change",n),()=>s.removeEventListener("change",n)},[t,e]),t}const ot=()=>nt("(max-width: 768px)")?_e.jsxs("div",{className:"min-h-screen bg-app-bg",children:[_e.jsx(st,{}),_e.jsx("main",{className:"pt-16 pb-20",children:_e.jsx(a,{})}),_e.jsx(rt,{type:"public"})]}):_e.jsxs("div",{className:"min-h-screen bg-app-bg",children:[_e.jsx(Qe,{}),_e.jsx("main",{children:_e.jsx(a,{})}),_e.jsx(Ze,{})]}),it=()=>{const{token:e,user:t}=He();return e&&t?_e.jsx(a,{}):_e.jsx(l,{to:"/login",replace:!0})},at=()=>{const[e,t]=s.useState(!1),{lang:r,setLang:n}=Te(),{t:o}=p(),i=Pe.find(e=>e.code===r)||Pe[0];return _e.jsxs("div",{className:"relative",children:[_e.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-3 py-2 rounded-xl text-text-secondary hover:text-text-primary hover:bg-app-surface transition-colors","aria-label":o("common.change_language"),children:[_e.jsx(P,{size:18}),_e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:i.nativeName}),_e.jsx("span",{className:"sm:hidden text-sm",children:i.flag}),_e.jsx(L,{size:14,className:"transition-transform "+(e?"rotate-180":"")})]}),e&&_e.jsxs(_e.Fragment,{children:[_e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),_e.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-app-surface border border-app-border rounded-xl shadow-app-lg z-50 max-h-80 overflow-y-auto",children:_e.jsxs("div",{className:"p-2",children:[_e.jsx("div",{className:"text-xs font-semibold text-text-muted px-3 py-2 uppercase tracking-wide",children:o("common.select_language")}),Pe.map(e=>_e.jsxs("button",{onClick:()=>{n(e.code),t(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors "+(r===e.code?"bg-brand-blue/10 text-brand-blue":"hover:bg-app-bg text-text-primary"),children:[_e.jsx("span",{className:"text-lg",children:e.flag}),_e.jsxs("div",{className:"flex-1",children:[_e.jsx("div",{className:"font-medium",children:e.nativeName}),_e.jsx("div",{className:"text-xs text-text-muted",children:e.name})]}),r===e.code&&_e.jsx("div",{className:"w-2 h-2 bg-brand-blue rounded-full"})]},e.code))]})})]})]})},lt=()=>{const{lang:e,detectedLang:t,toggleLanguage:s}=Te(),{t:r}=p();if("en"===t||t===e)return null;const n=Pe.find(t=>t.code===e)||Pe[0],o=Pe.find(s=>s.code===("en"===e?t:"en"))||Pe[0];return _e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-app-surface border border-app-border text-text-secondary hover:text-text-primary hover:bg-app-bg transition-colors","aria-label":r("common.toggle_language"),title:`${r("common.switch_to")} ${o.nativeName}`,children:[_e.jsx(W,{size:16}),_e.jsxs("span",{className:"text-sm font-medium",children:[n.flag," â†’ ",o.flag]}),_e.jsx("span",{className:"hidden sm:inline text-xs text-text-muted",children:o.nativeName})]})},ct=({allowed:e,children:t})=>{const{user:s}=He();return s&&e.includes(s.role)?_e.jsx(_e.Fragment,{children:t}):null},dt=()=>{const e=i(),{user:t,logout:r}=He(),{t:n}=p(),[a,l]=s.useState(!1),c=[{href:"/dashboard/overview",icon:v,label:n("dashboard.overview"),roles:["Landlord","Agent","Tenant","Super Admin","Super Moderator"]},{href:"/dashboard/properties",icon:F,label:n("dashboard.properties"),roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/tenants",icon:$,label:n("dashboard.tenants"),roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/payments",icon:K,label:"Payments",roles:["Landlord","Agent","Super Admin","Super Moderator"]},{icon:H,label:"More",action:()=>l(!0),roles:["Landlord","Agent","Tenant","Super Admin","Super Moderator"]}],d=[{href:"/dashboard/expenses",icon:q,label:"Expenses",roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/maintenance",icon:X,label:n("dashboard.maintenance"),roles:["Landlord","Agent","Tenant","Super Admin","Super Moderator"]},{href:"/dashboard/cashflow",icon:J,label:n("dashboard.cash_flow"),roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/reminders",icon:D,label:n("dashboard.reminders"),roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/users",icon:Y,label:n("dashboard.users_invites"),roles:["Landlord","Super Admin","Super Moderator"]},{href:"/dashboard/billing",icon:G,label:n("dashboard.billing"),roles:["Landlord","Super Admin","Super Moderator"]},{href:"/admin",icon:Q,label:n("dashboard.admin_panel"),roles:["Super Admin","Super Moderator"]},{href:"/dashboard/settings",icon:Q,label:n("dashboard.settings"),roles:["Landlord","Agent","Tenant","Super Admin","Super Moderator"]},{action:()=>{r(),window.location.href="/"},icon:Z,label:n("dashboard.logout"),roles:["Landlord","Agent","Tenant","Super Admin","Super Moderator"]}];return _e.jsxs(_e.Fragment,{children:[_e.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 app-surface border-t border-app-border backdrop-blur-md",children:_e.jsx("div",{className:"grid grid-cols-5 h-20",children:c.map(t=>{return _e.jsx(ct,{allowed:t.roles||[],children:t.href?_e.jsxs(o,{to:t.href,className:"flex flex-col items-center justify-center transition-all duration-300 "+(s=t.href,("/dashboard/overview"===s?"/dashboard"===e.pathname||"/dashboard/overview"===e.pathname:e.pathname===s)?"text-brand-blue bg-brand-blue/10 rounded-t-3xl mx-1 mt-1":"text-text-secondary hover:text-text-primary active:scale-95"),children:[_e.jsx(t.icon,{size:20}),_e.jsx("span",{className:"text-xs font-medium mt-1",children:t.label})]}):_e.jsxs("button",{onClick:t.action,className:"flex flex-col items-center justify-center text-text-secondary hover:text-text-primary transition-all duration-300 active:scale-95",children:[_e.jsx(t.icon,{size:20}),_e.jsx("span",{className:"text-xs font-medium mt-1",children:t.label})]})},t.label);var s})})}),a&&_e.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-50 flex items-end",children:_e.jsxs("div",{className:"w-full app-surface rounded-t-3xl p-6 max-h-[80vh] overflow-y-auto",children:[_e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_e.jsx("h3",{className:"text-xl font-bold text-text-primary",children:n("common.more_options")}),_e.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-full text-text-secondary hover:text-text-primary",children:"Ã—"})]}),_e.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(e=>_e.jsx(ct,{allowed:e.roles||[],children:e.href?_e.jsxs(o,{to:e.href,onClick:()=>l(!1),className:"flex flex-col items-center p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:[_e.jsx(e.icon,{size:24,className:"text-brand-blue mb-2"}),_e.jsx("span",{className:"text-sm font-medium text-text-primary text-center",children:e.label})]}):_e.jsxs("button",{onClick:()=>{var t;null==(t=e.action)||t.call(e),l(!1)},className:"flex flex-col items-center p-4 rounded-2xl bg-app-bg hover:bg-app-border transition-colors",children:[_e.jsx(e.icon,{size:24,className:"text-brand-blue mb-2"}),_e.jsx("span",{className:"text-sm font-medium text-text-primary text-center",children:e.label})]})},e.label))})]})})]})},ht=Object.create(null);ht.open="0",ht.close="1",ht.ping="2",ht.pong="3",ht.message="4",ht.upgrade="5",ht.noop="6";const ut=Object.create(null);Object.keys(ht).forEach(e=>{ut[ht[e]]=e});const pt={type:"error",data:"parser error"},mt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ft="function"==typeof ArrayBuffer,gt=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,xt=({type:e,data:t},s,r)=>mt&&t instanceof Blob?s?r(t):bt(t,r):ft&&(t instanceof ArrayBuffer||gt(t))?s?r(t):bt(new Blob([t]),r):r(ht[e]+(t||"")),bt=(e,t)=>{const s=new FileReader;return s.onload=function(){const e=s.result.split(",")[1];t("b"+(e||""))},s.readAsDataURL(e)};function yt(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let vt;const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wt="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let yn=0;yn<64;yn++)wt[jt.charCodeAt(yn)]=yn;const _t="function"==typeof ArrayBuffer,Nt=(e,t)=>{if("string"!=typeof e)return{type:"message",data:St(e,t)};const s=e.charAt(0);if("b"===s)return{type:"message",data:kt(e.substring(1),t)};return ut[s]?e.length>1?{type:ut[s],data:e.substring(1)}:{type:ut[s]}:pt},kt=(e,t)=>{if(_t){const s=(e=>{let t,s,r,n,o,i=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<a;t+=4)s=wt[e.charCodeAt(t)],r=wt[e.charCodeAt(t+1)],n=wt[e.charCodeAt(t+2)],o=wt[e.charCodeAt(t+3)],d[l++]=s<<2|r>>4,d[l++]=(15&r)<<4|n>>2,d[l++]=(3&n)<<6|63&o;return c})(e);return St(s,t)}return{base64:!0,data:e}},St=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Et=String.fromCharCode(30);function At(){return new TransformStream({transform(e,t){!function(e,t){mt&&e.data instanceof Blob?e.data.arrayBuffer().then(yt).then(t):ft&&(e.data instanceof ArrayBuffer||gt(e.data))?t(yt(e.data)):xt(e,!1,e=>{vt||(vt=new TextEncoder),t(vt.encode(e))})}(e,s=>{const r=s.length;let n;if(r<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,r);else if(r<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let Ot;function Pt(e){return e.reduce((e,t)=>e+t.length,0)}function Lt(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let n=0;n<t;n++)s[n]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function Tt(e){if(e)return function(e){for(var t in Tt.prototype)e[t]=Tt.prototype[t];return e}(e)}Tt.prototype.on=Tt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Tt.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this},Tt.prototype.off=Tt.prototype.removeListener=Tt.prototype.removeAllListeners=Tt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<r.length;n++)if((s=r[n])===t||s.fn===t){r.splice(n,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Tt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){r=0;for(var n=(s=s.slice(0)).length;r<n;++r)s[r].apply(this,t)}return this},Tt.prototype.emitReserved=Tt.prototype.emit,Tt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Tt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Rt="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ct="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function It(e,...t){return t.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{})}const Dt=Ct.setTimeout,zt=Ct.clearTimeout;function Bt(e,t){t.useNativeTimers?(e.setTimeoutFn=Dt.bind(Ct),e.clearTimeoutFn=zt.bind(Ct)):(e.setTimeoutFn=Ct.setTimeout.bind(Ct),e.clearTimeoutFn=Ct.clearTimeout.bind(Ct))}function Mt(e){return"string"==typeof e?function(e){let t=0,s=0;for(let r=0,n=e.length;r<n;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))}function qt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ut extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class Vt extends Tt{constructor(e){super(),this.writable=!1,Bt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new Ut(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Nt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}(e);return t.length?"?"+t:""}}class Ht extends Vt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const s=e.split(Et),r=[];for(let n=0;n<s.length;n++){const e=Nt(s[n],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const s=e.length,r=new Array(s);let n=0;e.forEach((e,o)=>{xt(e,!1,e=>{r[o]=e,++n===s&&t(r.join(Et))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=qt()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Ft=!1;try{Ft="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(bn){}const $t=Ft;function Kt(){}class Wt extends Ht{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let s=location.port;s||(s=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Xt extends Tt{constructor(e,t,s){super(),this.createRequest=e,Bt(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var e;const t=It(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&s.setRequestHeader(e,this._opts.extraHeaders[e])}}catch($r){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch($r){}try{s.setRequestHeader("Accept","*/*")}catch($r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var e;3===s.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof s.status?s.status:0)},0))},s.send(this._data)}catch($r){return void this.setTimeoutFn(()=>{this._onError($r)},0)}"undefined"!=typeof document&&(this._index=Xt.requestsCount++,Xt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Kt,e)try{this._xhr.abort()}catch($r){}"undefined"!=typeof document&&delete Xt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Xt.requestsCount=0,Xt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Jt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Ct?"pagehide":"unload",Jt,!1)}function Jt(){for(let e in Xt.requests)Xt.requests.hasOwnProperty(e)&&Xt.requests[e].abort()}const Yt=function(){const e=Gt({xdomain:!1});return e&&null!==e.responseType}();function Gt(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||$t))return new XMLHttpRequest}catch($r){}if(!t)try{return new(Ct[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch($r){}}const Qt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Zt extends Vt{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=Qt?{}:It(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(bn){return this.emitReserved("error",bn)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;xt(s,this.supportsBinary,e=>{try{this.doWrite(s,e)}catch($r){}r&&Rt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=qt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const es=Ct.WebSocket||Ct.MozWebSocket;const ts={websocket:class extends Zt{createSocket(e,t,s){return Qt?new es(e,t,s):t?new es(e,t):new es(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Vt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(bn){return this.emitReserved("error",bn)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Ot||(Ot=new TextDecoder);const s=[];let r=0,n=-1,o=!1;return new TransformStream({transform(i,a){for(s.push(i);;){if(0===r){if(Pt(s)<1)break;const e=Lt(s,1);o=!(128&~e[0]),n=127&e[0],r=n<126?3:126===n?1:2}else if(1===r){if(Pt(s)<2)break;const e=Lt(s,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Pt(s)<8)break;const e=Lt(s,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(pt);break}n=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Pt(s)<n)break;const e=Lt(s,n);a.enqueue(Nt(o?e:Ot.decode(e),t)),r=0}if(0===n||n>e){a.enqueue(pt);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),r=At();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const n=()=>{s.read().then(({done:e,value:t})=>{e||(this.onPacket(t),n())}).catch(e=>{})};n();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;this._writer.write(s).then(()=>{r&&Rt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Wt{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Yt&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Xt(Gt,this.uri(),e)}}},ss=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ns(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");-1!=s&&-1!=r&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let n=ss.exec(e||""),o={},i=14;for(;i--;)o[rs[i]]=n[i]||"";return-1!=s&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(s[t]=r)}),s}(0,o.query),o}const os="function"==typeof addEventListener&&"function"==typeof removeEventListener,is=[];os&&addEventListener("offline",()=>{is.forEach(e=>e())},!1);class as extends Tt{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const s=ns(e);t.hostname=s.host,t.secure="https"===s.protocol||"wss"===s.protocol,t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=ns(t.host).host);Bt(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},s=e.split("&");for(let r=0,n=s.length;r<n;r++){let e=s[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),os&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},is.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&as.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",as.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const s=this.writeBuffer[t].data;if(s&&(e+=Mt(s)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof s&&(r=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const n={type:e,data:t,options:s};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(as.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),os&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=is.indexOf(this._offlineEventListener);-1!==e&&is.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}as.protocol=4;class ls extends as{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;as.priorWebsocketSuccess=!1;const r=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!s)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;as.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function n(){s||(s=!0,c(),t.close(),t=null)}const o=e=>{const s=new Error("probe error: "+e);s.transport=t.name,n(),this.emitReserved("upgradeError",s)};function i(){o("transport closed")}function a(){o("socket closed")}function l(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}let cs=class extends ls{constructor(e,t={}){const s="object"==typeof e?e:t;(!s.transports||s.transports&&"string"==typeof s.transports[0])&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(e=>ts[e]).filter(e=>!!e)),super(e,s)}};const ds="function"==typeof ArrayBuffer,hs=Object.prototype.toString,us="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===hs.call(Blob),ps="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===hs.call(File);function ms(e){return ds&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||us&&e instanceof Blob||ps&&e instanceof File}function fs(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if(fs(e[t]))return!0;return!1}if(ms(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return fs(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&fs(e[s]))return!0;return!1}function gs(e){const t=[],s=e.data,r=e;return r.data=xs(s,t),r.attachments=t.length,{packet:r,buffers:t}}function xs(e,t){if(!e)return e;if(ms(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=xs(e[r],t);return s}if("object"==typeof e&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=xs(e[r],t));return s}return e}function bs(e,t){return e.data=ys(e.data,t),delete e.attachments,e}function ys(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=ys(e[s],t);else if("object"==typeof e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=ys(e[s],t));return e}const vs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var js,ws;(ws=js||(js={}))[ws.CONNECT=0]="CONNECT",ws[ws.DISCONNECT=1]="DISCONNECT",ws[ws.EVENT=2]="EVENT",ws[ws.ACK=3]="ACK",ws[ws.CONNECT_ERROR=4]="CONNECT_ERROR",ws[ws.BINARY_EVENT=5]="BINARY_EVENT",ws[ws.BINARY_ACK=6]="BINARY_ACK";function _s(e){return"[object Object]"===Object.prototype.toString.call(e)}class Ns extends Tt{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===js.BINARY_EVENT;s||t.type===js.BINARY_ACK?(t.type=s?js.EVENT:js.ACK,this.reconstructor=new ks(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ms(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(void 0===js[s.type])throw new Error("unknown packet type "+s.type);if(s.type===js.BINARY_EVENT||s.type===js.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(r,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");s.attachments=Number(n)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}s.nsp=e.substring(r,t)}else s.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}s.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Ns.isPayloadValid(s.type,r))throw new Error("invalid payload");s.data=r}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch($r){return!1}}static isPayloadValid(e,t){switch(e){case js.CONNECT:return _s(t);case js.DISCONNECT:return void 0===t;case js.CONNECT_ERROR:return"string"==typeof t||_s(t);case js.EVENT:case js.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===vs.indexOf(t[0]));case js.ACK:case js.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ks{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=bs(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ss=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ns,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==js.EVENT&&e.type!==js.ACK||!fs(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===js.EVENT?js.BINARY_EVENT:js.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==js.BINARY_EVENT&&e.type!==js.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=gs(e),s=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(s),r}},get PacketType(){return js},protocol:5},Symbol.toStringTag,{value:"Module"}));function Es(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const As=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Os extends Tt{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Es(e,"open",this.onopen.bind(this)),Es(e,"packet",this.onpacket.bind(this)),Es(e,"error",this.onerror.bind(this)),Es(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var s,r,n;if(As.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:js.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,s=t.pop();this._registerAckCallback(e,s),o.id=e}const i=null===(r=null===(s=this.io.engine)||void 0===s?void 0:s.transport)||void 0===r?void 0:r.writable,a=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!i||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var s;const r=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const n=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),o=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,e)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((s,r)=>{const n=(e,t)=>e?r(e):s(t);n.withError=!0,t.push(n),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(s!==this._queue[0])return;return null!==e?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),s.pending=!1,this._drainQueue()}),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:js.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case js.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case js.EVENT:case js.BINARY_EVENT:this.onevent(e);break;case js.ACK:case js.BINARY_ACK:this.onack(e);break;case js.DISCONNECT:this.ondisconnect();break;case js.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...r){s||(s=!0,t.packet({type:js.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:js.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function Ps(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ps.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+s:e-s}return 0|Math.min(e,this.max)},Ps.prototype.reset=function(){this.attempts=0},Ps.prototype.setMin=function(e){this.ms=e},Ps.prototype.setMax=function(e){this.max=e},Ps.prototype.setJitter=function(e){this.jitter=e};class Ls extends Tt{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Bt(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=t.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new Ps({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Ss;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new cs(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=Es(t,"open",function(){s.onopen(),e&&e()}),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Es(t,"error",n);if(!1!==this._timeout){const e=this._timeout,s=this.setTimeoutFn(()=>{r(),n(new Error("timeout")),t.close()},e);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Es(e,"ping",this.onping.bind(this)),Es(e,"data",this.ondata.bind(this)),Es(e,"error",this.onerror.bind(this)),Es(e,"close",this.onclose.bind(this)),Es(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch($r){this.onclose("parse error",$r)}}ondecoded(e){Rt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Os(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t){if(this.nsps[s].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ts={};function Rs(e,t){"object"==typeof e&&(t=e,e=void 0);const s=function(e,t="",s){let r=e;s=s||"undefined"!=typeof location&&location,null==e&&(e=s.protocol+"//"+s.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?s.protocol+e:s.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==s?s.protocol+"//"+e:"https://"+e),r=ns(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const n=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+n+":"+r.port+t,r.href=r.protocol+"://"+n+(s&&s.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=s.source,n=s.id,o=s.path,i=Ts[n]&&o in Ts[n].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?a=new Ls(r,t):(Ts[n]||(Ts[n]=new Ls(r,t)),a=Ts[n]),s.query&&!t.query&&(t.query=s.queryKey),a.socket(s.path,t)}Object.assign(Rs,{Manager:Ls,Socket:Os,io:Rs,connect:Rs});const Cs=()=>{const[e,t]=s.useState([]),[r,n]=s.useState(!1),{on:o,off:i}=(()=>{const e=s.useRef(null),{user:t,token:r}=He();return s.useEffect(()=>{if(r&&t)return e.current=Rs("https://hnv-backend.onrender.com/api",{auth:{token:r}}),e.current.on("connect",()=>{}),e.current.on("notification",e=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e.title,{body:e.message,icon:"/favicon.ico"})}),()=>{var t;null==(t=e.current)||t.disconnect()}},[r,t]),{emit:(t,s)=>{var r;null==(r=e.current)||r.emit(t,s)},on:(t,s)=>{var r;null==(r=e.current)||r.on(t,s)},off:(t,s)=>{var r;null==(r=e.current)||r.off(t,s)}}})();s.useEffect(()=>{const e=e=>{const s={id:Date.now().toString(),type:e.type||"info",title:e.title,message:e.message,timestamp:new Date,read:!1};t(e=>[s,...e.slice(0,9)])};return o("notification",e),o("tenant_payment",t=>e({type:"success",title:"Payment Received",message:`${t.tenantName} paid $${t.amount}`})),o("maintenance_request",t=>e({type:"warning",title:"New Maintenance Request",message:`${t.description} - ${t.property}`})),()=>{i("notification",e),i("tenant_payment"),i("maintenance_request")}},[o,i]);const a=e.filter(e=>!e.read).length,l=e=>{switch(e){case"success":return _e.jsx(ee,{className:"w-5 h-5 text-green-500"});case"warning":return _e.jsx(b,{className:"w-5 h-5 text-yellow-500"});case"error":return _e.jsx(b,{className:"w-5 h-5 text-red-500"});default:return _e.jsx(M,{className:"w-5 h-5 text-blue-500"})}};return _e.jsxs("div",{className:"relative",children:[_e.jsxs("button",{onClick:()=>n(!r),className:"relative p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[_e.jsx(D,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"}),a>0&&_e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]}),r&&_e.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[_e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:_e.jsxs("div",{className:"flex items-center justify-between",children:[_e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Notifications"}),_e.jsx("button",{onClick:()=>n(!1),className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:_e.jsx(k,{className:"w-4 h-4"})})]})}),_e.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===e.length?_e.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications yet"}):e.map(e=>_e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer "+(e.read?"":"bg-blue-50 dark:bg-blue-900/20"),onClick:()=>{return s=e.id,void t(e=>e.map(e=>e.id===s?{...e,read:!0}:e));var s},children:_e.jsxs("div",{className:"flex items-start gap-3",children:[l(e.type),_e.jsxs("div",{className:"flex-1 min-w-0",children:[_e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.title}),_e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:e.message}),_e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:e.timestamp.toLocaleTimeString()})]}),!e.read&&_e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})},e.id))})]})]})},Is=()=>{var e,t,r;const{user:n,logout:l}=He(),d=c(),h=i(),{t:u}=p();Te();const{theme:m,toggleTheme:f}=Ae(),[g,x]=s.useState(!1),b=nt("(max-width: 768px)"),y=()=>{l(),d("/login",{replace:!0})},_=e=>{const t="flex items-center space-x-3 px-4 py-3 font-medium rounded-2xl transition-all duration-300";return h.pathname.startsWith(e)?`${t} app-gradient text-white shadow-app`:`${t} text-text-secondary hover:text-text-primary hover:bg-app-surface`},N=[{href:"/dashboard/overview",icon:v,label:u("dashboard.overview"),roles:["Landlord","Agent","Super Admin","Super Moderator"]},{href:"/dashboard/tenant",icon:$,label:"My Portal",roles:["Tenant"]},{href:"/dashboard/properties",icon:te,label:u("dashboard.properties"),roles:["Landlord","Agent"]},{href:"/dashboard/tenants",icon:$,label:u("dashboard.tenants"),roles:["Landlord","Agent"]},{href:"/dashboard/payments",icon:K,label:"Payments",roles:["Landlord","Agent"]},{href:"/dashboard/expenses",icon:q,label:u("dashboard.expenses"),roles:["Landlord","Agent"]},{href:"/dashboard/maintenance",icon:X,label:u("dashboard.maintenance"),roles:["Landlord","Agent"]},{href:"/dashboard/cashflow",icon:q,label:u("dashboard.cash_flow"),roles:["Landlord","Agent"]},{href:"/dashboard/reminders",icon:se,label:u("dashboard.reminders"),roles:["Landlord","Agent"]},{href:"/dashboard/approvals",icon:re,label:u("dashboard.approvals"),roles:["Landlord","Agent"]},{href:"/dashboard/users",icon:$,label:u("dashboard.users_invites"),roles:["Landlord","Agent"]},{href:"/dashboard/billing",icon:K,label:u("dashboard.billing"),roles:["Landlord","Agent"]},{href:"/dashboard/audit-log",icon:G,label:u("dashboard.audit_log"),roles:["Landlord","Agent"]}],S={href:"/admin",icon:ne,label:u("dashboard.admin_panel"),roles:["Super Admin","Super Moderator"]},E=({isMobile:e=!1})=>{var t,s;return _e.jsxs("aside",{className:(e?"w-full max-w-sm":"w-72 xl:w-80")+" flex-shrink-0 app-surface border-r border-app-border flex flex-col h-full",children:[_e.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-app-border",children:[_e.jsxs(o,{to:"/dashboard",className:"flex items-center space-x-3 text-xl font-bold text-text-primary",children:[_e.jsx("div",{className:"w-10 h-10 app-gradient rounded-xl flex items-center justify-center",children:_e.jsx(te,{size:20,className:"text-white"})}),_e.jsx("span",{className:"truncate",children:(null==(s=null==(t=null==n?void 0:n.organizationId)?void 0:t.branding)?void 0:s.companyName)||"HNV Dashboard"})]}),e&&_e.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-full text-text-secondary hover:text-text-primary",children:_e.jsx(k,{size:20})})]}),_e.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[N.map(t=>_e.jsx(ct,{allowed:t.roles,children:_e.jsxs(o,{to:t.href,className:_(t.href),onClick:()=>e&&x(!1),children:[_e.jsx(t.icon,{size:20}),_e.jsx("span",{children:t.label})]})},t.href)),_e.jsxs(ct,{allowed:S.roles,children:[_e.jsx("hr",{className:"my-4 border-app-border"}),_e.jsxs(o,{to:S.href,className:_(S.href),onClick:()=>e&&x(!1),children:[_e.jsx(S.icon,{size:20}),_e.jsx("span",{children:S.label})]})]})]}),_e.jsxs("div",{className:"p-4 border-t border-app-border space-y-2",children:[_e.jsxs(o,{to:"/dashboard/settings",className:_("/dashboard/settings"),onClick:()=>e&&x(!1),children:[_e.jsx(Q,{size:20}),_e.jsx("span",{children:u("dashboard.settings")})]}),_e.jsxs("button",{onClick:y,className:"w-full flex items-center space-x-3 px-4 py-3 font-medium rounded-2xl text-text-secondary hover:text-text-primary hover:bg-app-surface transition-all duration-300",children:[_e.jsx(Z,{size:20}),_e.jsx("span",{children:u("dashboard.logout")})]})]})]})};return b?_e.jsxs("div",{className:"min-h-screen bg-app-bg",children:[_e.jsx(st,{onMenuToggle:()=>x(!0),showNotifications:!0}),_e.jsx(j,{children:g&&_e.jsxs(_e.Fragment,{children:[_e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>x(!1)}),_e.jsx(w.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 bottom-0 z-50 w-80",children:_e.jsx(E,{isMobile:!0})})]})}),_e.jsx("main",{className:"pt-16 pb-20 px-4 mobile-content scroll-container",children:_e.jsx("div",{className:"max-w-7xl mx-auto",children:_e.jsx(j,{mode:"wait",children:_e.jsx(a,{})})})}),_e.jsx(rt,{type:"dashboard"})]}):_e.jsxs("div",{className:"flex h-screen bg-app-bg",children:[_e.jsx("div",{className:"hidden lg:block",children:_e.jsx(E,{})}),_e.jsx(j,{children:g&&_e.jsxs(_e.Fragment,{children:[_e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>x(!1)}),_e.jsx(w.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 bottom-0 z-50",children:_e.jsx(E,{isMobile:!0})})]})}),_e.jsxs("main",{className:"flex-1 flex flex-col",children:[_e.jsxs("header",{className:"h-20 app-surface/95 backdrop-blur-md border-b border-app-border flex-shrink-0 flex items-center justify-between px-4 lg:px-8 shadow-app",children:[_e.jsxs("div",{className:"flex items-center gap-4",children:[_e.jsx("button",{onClick:()=>x(!0),className:"lg:hidden touch-target p-2 rounded-xl text-text-secondary hover:text-text-primary hover:bg-app-bg transition-colors","aria-label":"Open navigation menu",children:_e.jsx(I,{size:20})}),_e.jsx("h1",{className:"text-xl font-semibold text-text-primary hidden lg:block",children:"Dashboard"})]}),_e.jsx("div",{className:"hidden md:flex items-center justify-center absolute left-1/2 transform -translate-x-1/2",children:_e.jsx("span",{className:"text-lg font-bold text-text-primary text-center",children:(null==(t=null==(e=null==n?void 0:n.organizationId)?void 0:e.branding)?void 0:t.companyName)||"HNV Solutions"})}),_e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 relative z-50",children:[_e.jsx("div",{className:"relative z-[60]",children:_e.jsx(lt,{})}),_e.jsx("div",{className:"relative z-[60]",children:_e.jsx(at,{})}),_e.jsx("button",{onClick:f,className:"touch-target p-2 rounded-xl text-text-secondary hover:text-text-primary hover:bg-app-bg transition-colors","aria-label":`Switch to ${"light"===m?"dark":"light"} mode`,children:"light"===m?_e.jsx(T,{size:20}):_e.jsx(R,{size:20})}),_e.jsx(Cs,{}),_e.jsx(tt,{}),_e.jsxs("div",{className:"flex items-center gap-3",children:[_e.jsx("div",{className:"w-10 h-10 app-gradient rounded-full flex items-center justify-center font-semibold text-white",children:null==(r=null==n?void 0:n.name)?void 0:r.charAt(0).toUpperCase()}),_e.jsxs("div",{className:"hidden sm:block",children:[_e.jsx("p",{className:"font-semibold text-text-primary",children:null==n?void 0:n.name}),_e.jsx("p",{className:"text-xs text-text-secondary",children:null==n?void 0:n.role})]})]})]})]}),_e.jsx("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto pb-24 lg:pb-8 scroll-container",children:_e.jsx("div",{className:"max-w-7xl mx-auto",children:_e.jsx(j,{mode:"wait",children:_e.jsx(a,{})})})})]}),_e.jsx(dt,{})]})},Ds=()=>{const{token:e,user:t}=He();return e&&t?["Super Admin","Super Moderator"].includes(t.role)?_e.jsx(a,{}):_e.jsx(l,{to:"/dashboard",replace:!0}):_e.jsx(l,{to:"/login",replace:!0})},zs=()=>{const e=i(),t=c(),{logout:s}=He(),r=t=>{const s="flex items-center gap-3 px-4 py-2.5 rounded-lg font-semibold transition-colors duration-150";return e.pathname.startsWith(t)?`${s} bg-gradient-to-r from-orange-500 to-blue-600 text-white`:`${s} text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700`};return _e.jsxs("aside",{className:"w-64 h-screen bg-light-card dark:bg-dark-card text-dark-text dark:text-dark-text-dark flex flex-col flex-shrink-0 border-r border-border-color dark:border-border-color-dark transition-colors duration-300",children:[_e.jsx("div",{className:"h-20 flex items-center justify-center border-b border-border-color dark:border-border-color-dark",children:_e.jsxs("h2",{className:"text-xl font-bold text-center flex items-center gap-2",children:[_e.jsx(oe,{className:"text-brand-primary dark:text-brand-secondary"})," Admin Panel"]})}),_e.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[_e.jsxs(o,{to:"/admin/dashboard",className:r("/admin/dashboard"),children:[_e.jsx(ie,{size:18})," Dashboard"]}),_e.jsxs(o,{to:"/admin/organizations",className:r("/admin/organizations"),children:[_e.jsx(te,{size:18})," Organizations"]}),_e.jsxs(o,{to:"/admin/users",className:r("/admin/users"),children:[_e.jsx($,{size:18})," Users"]}),_e.jsxs(o,{to:"/admin/moderators",className:r("/admin/moderators"),children:[_e.jsx($,{size:18})," Moderators"]}),_e.jsxs(o,{to:"/admin/plans",className:r("/admin/plans"),children:[_e.jsx(K,{size:18})," Manage Plans"]}),_e.jsxs(o,{to:"/admin/site-editor",className:r("/admin/site-editor"),children:[_e.jsx(ae,{size:18})," Site Editor"]}),_e.jsxs(o,{to:"/admin/billing",className:r("/admin/billing"),children:[_e.jsx(le,{size:18})," Billing"]})]}),_e.jsxs("div",{className:"p-4 border-t border-border-color dark:border-border-color-dark space-y-2",children:[_e.jsxs(o,{to:"/dashboard",className:"flex items-center justify-center gap-2 w-full text-center px-4 py-2.5 rounded-lg font-semibold text-light-text dark:text-light-text-dark bg-light-bg dark:bg-dark-bg/50 hover:bg-border-color dark:hover:bg-border-color-dark transition-colors",children:[_e.jsx(ce,{size:16})," Exit Admin"]}),_e.jsxs("button",{onClick:()=>{s(),t("/login")},className:"w-full flex items-center gap-3 px-4 py-2.5 mt-2 font-semibold rounded-lg text-light-text dark:text-light-text-dark hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[_e.jsx(Z,{size:18})," Logout"]})]})]})},Bs=()=>{const{user:e}=He();return e?_e.jsxs("div",{className:"flex h-screen bg-light-bg dark:bg-dark-bg transition-colors duration-300",children:[_e.jsx("aside",{className:"hidden md:flex w-64 flex-shrink-0 bg-light-card dark:bg-dark-card text-dark-text dark:text-dark-text-dark flex-col border-r border-border-color dark:border-border-color-dark transition-colors duration-300",children:_e.jsx(zs,{})}),_e.jsxs("main",{className:"flex-1 flex flex-col bg-light-bg dark:bg-dark-bg",children:[_e.jsx("header",{className:"h-20 bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border-b border-border-color dark:border-border-color-dark flex-shrink-0 flex items-center justify-end px-4 sm:px-8 shadow-sm transition-all duration-200",children:_e.jsxs("div",{className:"text-right",children:[_e.jsx("p",{className:"font-semibold text-dark-text dark:text-dark-text-dark",children:e.name}),_e.jsx("p",{className:"text-sm text-light-text dark:text-light-text-dark",children:e.role})]})}),_e.jsxs("div",{className:"flex-1 p-4 sm:p-8 overflow-y-auto pb-24 md:pb-8",children:[" ",_e.jsx(a,{})]})]})]}):_e.jsx("div",{className:"bg-light-bg dark:bg-dark-bg h-screen flex items-center justify-center text-dark-text dark:text-dark-text-dark transition-colors duration-300",children:"Loading..."})},Ms=n.lazy(()=>Me(()=>import("./LandingPage-d01a717e.js"),["assets/LandingPage-d01a717e.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/ui-88b07fc3.js","assets/query-c0dd8be7.js","assets/utils-2ffb253a.js"])),qs=n.lazy(()=>Me(()=>import("./LoginPage-ebdac06a.js"),["assets/LoginPage-ebdac06a.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/ui-88b07fc3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Us=n.lazy(()=>Me(()=>import("./RegisterPage-46bbefcc.js"),["assets/RegisterPage-46bbefcc.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/ui-88b07fc3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Vs=n.lazy(()=>Me(()=>import("./ForgotPasswordPage-2142a81b.js"),["assets/ForgotPasswordPage-2142a81b.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Hs=n.lazy(()=>Me(()=>import("./ResetPasswordPage-1a2d5421.js"),["assets/ResetPasswordPage-1a2d5421.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Fs=n.lazy(()=>Me(()=>import("./GoogleAuthCallback-56336ba9.js"),["assets/GoogleAuthCallback-56336ba9.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),$s=n.lazy(()=>Me(()=>import("./AcceptAgentInvitePage-ef8040d5.js"),["assets/AcceptAgentInvitePage-ef8040d5.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),Ks=n.lazy(()=>Me(()=>import("./TermsPage-2417b4c4.js"),["assets/TermsPage-2417b4c4.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js"])),Ws=n.lazy(()=>Me(()=>import("./PrivacyPolicyPage-8fd90405.js"),["assets/PrivacyPolicyPage-8fd90405.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js"])),Xs=n.lazy(()=>Me(()=>import("./NotFound-9f3d946a.js"),["assets/NotFound-9f3d946a.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"]));n.lazy(()=>Me(()=>import("./ResubscribePage-cd5fb0ae.js"),["assets/ResubscribePage-cd5fb0ae.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"]));const Js=n.lazy(()=>Me(()=>import("./PricingPage-2070b848.js"),["assets/PricingPage-2070b848.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/i18n-eaa6a7d3.js","assets/ui-88b07fc3.js","assets/query-c0dd8be7.js","assets/utils-2ffb253a.js"])),Ys=n.lazy(()=>Me(()=>import("./PaymentSummaryPage-826cd859.js"),["assets/PaymentSummaryPage-826cd859.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js"])),Gs=n.lazy(()=>Me(()=>import("./VerifyEmailPage-0eeba388.js"),["assets/VerifyEmailPage-0eeba388.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Qs=n.lazy(()=>Me(()=>import("./OverviewPage-205972fa.js"),["assets/OverviewPage-205972fa.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/charts-a3223c4c.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/query-c0dd8be7.js","assets/utils-2ffb253a.js"])),Zs=n.lazy(()=>Me(()=>import("./PropertiesPage-9eeaead3.js"),["assets/PropertiesPage-9eeaead3.js","assets/vendor-83d6deea.js","assets/i18n-eaa6a7d3.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/utils-2ffb253a.js"])),er=n.lazy(()=>Me(()=>import("./TenantsPage-5d64ab47.js"),["assets/TenantsPage-5d64ab47.js","assets/query-c0dd8be7.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),tr=n.lazy(()=>Me(()=>import("./SettingsPage-146a0a5f.js"),["assets/SettingsPage-146a0a5f.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),sr=n.lazy(()=>Me(()=>import("./PaymentsPage-cb8154c4.js"),["assets/PaymentsPage-cb8154c4.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),rr=n.lazy(()=>Me(()=>import("./ExpensesPage-8d8a74ea.js"),["assets/ExpensesPage-8d8a74ea.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),nr=n.lazy(()=>Me(()=>import("./MaintenanceRequestsPage-ed5b673e.js"),["assets/MaintenanceRequestsPage-ed5b673e.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),or=n.lazy(()=>Me(()=>import("./CashFlowPage-a8d5d943.js"),["assets/CashFlowPage-a8d5d943.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),ir=n.lazy(()=>Me(()=>import("./RemindersPage-04945e3c.js"),["assets/RemindersPage-04945e3c.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),ar=n.lazy(()=>Me(()=>import("./ApprovalRequestsPage-5a819546.js"),["assets/ApprovalRequestsPage-5a819546.js","assets/query-c0dd8be7.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),lr=n.lazy(()=>Me(()=>import("./UsersPage-87c387a5.js"),["assets/UsersPage-87c387a5.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),cr=n.lazy(()=>Me(()=>import("./BillingPage-5bd158ff.js"),["assets/BillingPage-5bd158ff.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),dr=n.lazy(()=>Me(()=>import("./AuditLogPage-2e4237ad.js"),["assets/AuditLogPage-2e4237ad.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/ui-88b07fc3.js"])),hr=n.lazy(()=>Me(()=>import("./PropertyDetailsPage-44a62113.js"),["assets/PropertyDetailsPage-44a62113.js","assets/router-225372b8.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),ur=n.lazy(()=>Me(()=>import("./TenantProfilePage-6d41f8b7.js"),["assets/TenantProfilePage-6d41f8b7.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),pr=n.lazy(()=>Me(()=>import("./TenantDashboardPage-c23bb44e.js"),["assets/TenantDashboardPage-c23bb44e.js","assets/query-c0dd8be7.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),mr=n.lazy(()=>Me(()=>import("./AdminDashboardPage-a0c53400.js"),["assets/AdminDashboardPage-a0c53400.js","assets/charts-a3223c4c.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),fr=n.lazy(()=>Me(()=>import("./AdminOrganizationsPage-afbcc1de.js"),["assets/AdminOrganizationsPage-afbcc1de.js","assets/query-c0dd8be7.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),gr=n.lazy(()=>Me(()=>import("./AdminUsersPage-fa034189.js"),["assets/AdminUsersPage-fa034189.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),xr=n.lazy(()=>Me(()=>import("./AdminModeratorsPage-9a98bb8f.js"),["assets/AdminModeratorsPage-9a98bb8f.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),br=n.lazy(()=>Me(()=>import("./AdminPlansPage-a8b27987.js"),["assets/AdminPlansPage-a8b27987.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/query-c0dd8be7.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),yr=n.lazy(()=>Me(()=>import("./SiteEditorPage-07aa959e.js"),["assets/SiteEditorPage-07aa959e.js","assets/vendor-83d6deea.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js"])),vr=n.lazy(()=>Me(()=>import("./AdminBillingPage-ed5e6162.js"),["assets/AdminBillingPage-ed5e6162.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js"])),jr=n.lazy(()=>Me(()=>import("./AdminMaintenancePage-eab4a099.js"),["assets/AdminMaintenancePage-eab4a099.js","assets/query-c0dd8be7.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/ui-88b07fc3.js"])),wr=n.lazy(()=>Me(()=>import("./AdminDataManagementPage-2aef23c7.js"),["assets/AdminDataManagementPage-2aef23c7.js","assets/vendor-83d6deea.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js","assets/ui-88b07fc3.js"])),_r=n.lazy(()=>Me(()=>import("./AdminProfilePage-c1bde31f.js"),["assets/AdminProfilePage-c1bde31f.js","assets/vendor-83d6deea.js","assets/ui-88b07fc3.js","assets/router-225372b8.js","assets/i18n-eaa6a7d3.js","assets/utils-2ffb253a.js","assets/query-c0dd8be7.js"])),Nr=()=>_e.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-app-bg",children:_e.jsx(Xe,{size:"lg",text:"Loading Application..."})});function kr(){const{token:e,user:t,setUser:r,logout:n}=He(),[o,i]=s.useState(!0);return s.useEffect(()=>{(async()=>{if(e&&!t)try{const e=await $e.get("/auth/me");r(e.data.data)}catch(s){n()}i(!1)})()},[e,t,r,n]),o?_e.jsx(Nr,{}):_e.jsxs(Ke,{children:[_e.jsx(We,{}),_e.jsx(s.Suspense,{fallback:_e.jsx(Nr,{}),children:_e.jsxs(d,{children:[_e.jsxs(h,{path:"/",element:_e.jsx(ot,{}),children:[_e.jsx(h,{index:!0,element:_e.jsx(Ms,{})}),_e.jsx(h,{path:"login",element:_e.jsx(qs,{})}),_e.jsx(h,{path:"register",element:_e.jsx(Us,{})}),_e.jsx(h,{path:"forgot-password",element:_e.jsx(Vs,{})}),_e.jsx(h,{path:"reset-password/:token",element:_e.jsx(Hs,{})}),_e.jsx(h,{path:"accept-agent-invite/:token",element:_e.jsx($s,{})}),_e.jsx(h,{path:"auth/google/callback",element:_e.jsx(Fs,{})}),_e.jsx(h,{path:"terms",element:_e.jsx(Ks,{})}),_e.jsx(h,{path:"privacy",element:_e.jsx(Ws,{})}),_e.jsx(h,{path:"pricing",element:_e.jsx(Js,{})}),_e.jsx(h,{path:"payment-summary/:planId",element:_e.jsx(Ys,{})}),_e.jsx(h,{path:"verify-email/:token",element:_e.jsx(Gs,{})})]}),_e.jsx(h,{path:"/dashboard",element:_e.jsx(it,{}),children:_e.jsxs(h,{element:_e.jsx(Is,{}),children:[_e.jsx(h,{index:!0,element:_e.jsx(Qs,{})}),_e.jsx(h,{path:"overview",element:_e.jsx(Qs,{})}),_e.jsx(h,{path:"settings",element:_e.jsx(tr,{})}),_e.jsx(h,{path:"profile",element:_e.jsx(ur,{})})," ",_e.jsx(h,{path:"properties",element:_e.jsx(Zs,{})}),_e.jsx(h,{path:"properties/:propertyId",element:_e.jsx(hr,{})}),_e.jsx(h,{path:"tenants",element:_e.jsx(er,{})}),_e.jsx(h,{path:"tenants/:tenantId/profile",element:_e.jsx(ur,{})}),_e.jsx(h,{path:"payments",element:_e.jsx(sr,{})}),_e.jsx(h,{path:"expenses",element:_e.jsx(rr,{})}),_e.jsx(h,{path:"maintenance",element:_e.jsx(nr,{})}),_e.jsx(h,{path:"cashflow",element:_e.jsx(or,{})}),_e.jsx(h,{path:"reminders",element:_e.jsx(ir,{})}),_e.jsx(h,{path:"approvals",element:_e.jsx(ar,{})}),_e.jsx(h,{path:"users",element:_e.jsx(lr,{})}),_e.jsx(h,{path:"billing",element:_e.jsx(cr,{})}),_e.jsx(h,{path:"audit-log",element:_e.jsx(dr,{})}),_e.jsx(h,{path:"tenant",element:_e.jsx(pr,{})})]})}),_e.jsx(h,{path:"/admin",element:_e.jsx(Ds,{}),children:_e.jsxs(h,{element:_e.jsx(Bs,{}),children:[_e.jsx(h,{index:!0,element:_e.jsx(mr,{})}),_e.jsx(h,{path:"dashboard",element:_e.jsx(mr,{})}),_e.jsx(h,{path:"organizations",element:_e.jsx(fr,{})}),_e.jsx(h,{path:"users",element:_e.jsx(gr,{})}),_e.jsx(h,{path:"moderators",element:_e.jsx(xr,{})}),_e.jsx(h,{path:"plans",element:_e.jsx(br,{})}),_e.jsx(h,{path:"site-editor",element:_e.jsx(yr,{})}),_e.jsx(h,{path:"billing",element:_e.jsx(vr,{})}),_e.jsx(h,{path:"maintenance",element:_e.jsx(jr,{})}),_e.jsx(h,{path:"data-management",element:_e.jsx(wr,{})}),_e.jsx(h,{path:"profile",element:_e.jsx(_r,{})})," "]})}),_e.jsx(h,{path:"*",element:_e.jsx(Xs,{})})]})})]})}function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Sr(XMLHttpRequest))}function Ar(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Or(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(s),!0).forEach(function(t){Pr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ar(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Pr(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=Lr(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tr,Rr,Cr="function"==typeof fetch?fetch:void 0;if("undefined"!=typeof global&&global.fetch?Cr=global.fetch:"undefined"!=typeof window&&window.fetch&&(Cr=window.fetch),Er()&&("undefined"!=typeof global&&global.XMLHttpRequest?Tr=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Tr=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Rr=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Rr=window.ActiveXObject)),"function"!=typeof Cr&&(Cr=void 0),!Cr&&!Tr&&!Rr)try{Me(()=>import("./browser-ponyfill-6bac2b5e.js").then(e=>e.b),["assets/browser-ponyfill-6bac2b5e.js","assets/vendor-83d6deea.js"]).then(function(e){Cr=e.default}).catch(function(){})}catch($r){}var Ir=function(e,t){if(t&&"object"===Lr(t)){var s="";for(var r in t)s+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!s)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+s.slice(1)}return e},Dr=function(e,t,s,r){var n=function(e){if(!e.ok)return s(e.statusText||"Error",{status:e.status});e.text().then(function(t){s(null,{status:e.status,data:t})}).catch(s)};if(r){var o=r(e,t);if(o instanceof Promise)return void o.then(n).catch(s)}"function"==typeof fetch?fetch(e,t).then(n).catch(s):Cr(e,t).then(n).catch(s)},zr=!1,Br=function(e,t,s,r){return"function"==typeof s&&(r=s,s=void 0),r=r||function(){},Cr&&0!==t.indexOf("file:")?function(e,t,s,r){e.queryStringParams&&(t=Ir(t,e.queryStringParams));var n=Or({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&"undefined"!=typeof global&&void 0!==global.process&&global.process.versions&&global.process.versions.node&&(n["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),s&&(n["Content-Type"]="application/json");var o="function"==typeof e.requestOptions?e.requestOptions(s):e.requestOptions,i=Or({method:s?"POST":"GET",body:s?e.stringify(s):void 0,headers:n},zr?{}:o),a="function"==typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Dr(t,i,r,a)}catch($r){if(!o||0===Object.keys(o).length||!$r.message||$r.message.indexOf("not implemented")<0)return r($r);try{Object.keys(o).forEach(function(e){delete i[e]}),Dr(t,i,r,a),zr=!0}catch(bn){r(bn)}}}(e,t,s,r):Er()||"function"==typeof ActiveXObject?function(e,t,s,r){s&&"object"===Lr(s)&&(s=Ir("",s).slice(1)),e.queryStringParams&&(t=Ir(t,e.queryStringParams));try{var n=Tr?new Tr:new Rr("MSXML2.XMLHTTP.3.0");n.open(s?"POST":"GET",t,1),e.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.withCredentials=!!e.withCredentials,s&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.overrideMimeType&&n.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var i in o)n.setRequestHeader(i,o[i]);n.onreadystatechange=function(){n.readyState>3&&r(n.status>=400?n.statusText:null,{status:n.status,data:n.responseText})},n.send(s)}catch($r){console}}(e,t,s,r):void r(new Error("No fetch and no xhr implementation found!"))};function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Ur(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(s),!0).forEach(function(t){Hr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qr(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Vr(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fr(r.key),r)}}function Hr(e,t,s){return(t=Fr(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Fr(e){var t=function(e,t){if("object"!=Mr(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mr(t)?t:t+""}var $r,Kr,Wr,Xr=($r=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=s,this.allOptions=r,this.type="backend",this.init(t,s,r)},(Kr=[{key:"init",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=Ur(Ur(Ur({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,s){return Hr({},t,s||"")},parseLoadPayload:function(e,t){},request:Br,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),s),this.allOptions=r,this.services&&this.options.reloadInterval){var n=setInterval(function(){return t.reload()},this.options.reloadInterval);"object"===Mr(n)&&"function"==typeof n.unref&&n.unref()}}},{key:"readMulti",value:function(e,t,s){this._readAny(e,e,t,t,s)}},{key:"read",value:function(e,t,s){this._readAny([e],e,[t],t,s)}},{key:"_readAny",value:function(e,t,s,r,n){var o,i=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(e,s)),(a=function(e){return!!e&&"function"==typeof e.then}(o=a)?o:Promise.resolve(o)).then(function(o){if(!o)return n(null,{});var a=i.services.interpolator.interpolate(o,{lng:e.join("+"),ns:s.join("+")});i.loadUrl(a,n,t,r)})}},{key:"loadUrl",value:function(e,t,s,r){var n=this,o="string"==typeof s?[s]:s,i="string"==typeof r?[r]:r,a=this.options.parseLoadPayload(o,i);this.options.request(this.options,e,a,function(o,i){if(i&&(i.status>=500&&i.status<600||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&i.status<500)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&o&&o.message){var a=o.message.toLowerCase();if(["failed","fetch","network","load"].find(function(e){return a.indexOf(e)>-1}))return t("failed loading "+e+": "+o.message,!0)}if(o)return t(o,!1);var l,c;try{l="string"==typeof i.data?n.options.parse(i.data,s,r):i.data}catch($r){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)})}},{key:"create",value:function(e,t,s,r,n){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,s,r),a=0,l=[],c=[];e.forEach(function(s){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(s,t));var d=o.services.interpolator.interpolate(r,{lng:s,ns:t});o.options.request(o.options,d,i,function(t,s){a+=1,l.push(t),c.push(s),a===e.length&&"function"==typeof n&&n(l,c)})})}}},{key:"reload",value:function(){var e=this,t=this.services,s=t.backendConnector,r=t.languageUtils,n=t.logger,o=s.language;if(!o||"cimode"!==o.toLowerCase()){var i=[],a=function(e){r.toResolveHierarchy(e).forEach(function(e){i.indexOf(e)<0&&i.push(e)})};a(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return a(e)}),i.forEach(function(t){e.allOptions.ns.forEach(function(e){s.read(t,e,"read",null,null,function(r,o){r&&n.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&n.log("loaded namespace ".concat(e," for language ").concat(t),o),s.loaded("".concat(t,"|").concat(e),r,o)})})})}}}])&&Vr($r.prototype,Kr),Wr&&Vr($r,Wr),Object.defineProperty($r,"prototype",{writable:!1}),$r);Xr.type="backend";const{slice:Jr,forEach:Yr}=[];const Gr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Qr={create(e,t,s,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};s&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*s*1e3)),r&&(n.domain=r),document.cookie=function(e,t){const s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(s.maxAge>0){const e=s.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(s.domain){if(!Gr.test(s.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${s.domain}`}if(s.path){if(!Gr.test(s.path))throw new TypeError("option path is invalid");r+=`; Path=${s.path}`}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(r+="; Partitioned"),r}(e,t,n)},read(e){const t=`${e}=`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){let e=s[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Zr={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Qr.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:s,cookieMinutes:r,cookieDomain:n,cookieOptions:o}=t;s&&"undefined"!=typeof document&&Qr.create(s,e,r,n,o)}},en={name:"querystring",lookup(e){var t;let s,{lookupQuerystring:r}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&(null==(t=window.location.hash)?void 0:t.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const n=e.substring(1).split("&");for(let t=0;t<n.length;t++){const e=n[t].indexOf("=");if(e>0){n[t].substring(0,e)===r&&(s=n[t].substring(e+1))}}}return s}},tn={name:"hash",lookup(e){var t;let s,{lookupHash:r,lookupFromHashIndex:n}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const o=e.substring(1);if(r){const e=o.split("&");for(let t=0;t<e.length;t++){const n=e[t].indexOf("=");if(n>0){e[t].substring(0,n)===r&&(s=e[t].substring(n+1))}}}if(s)return s;if(!s&&n>-1){const s=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(s))return;return null==(t=s["number"==typeof n?n:0])?void 0:t.replace("/","")}}}return s}};let sn=null;const rn=()=>{if(null!==sn)return sn;try{if(sn="undefined"!=typeof window&&null!==window.localStorage,!sn)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch($r){sn=!1}return sn};var nn={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&rn())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:s}=t;s&&rn()&&window.localStorage.setItem(s,e)}};let on=null;const an=()=>{if(null!==on)return on;try{if(on="undefined"!=typeof window&&null!==window.sessionStorage,!on)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch($r){on=!1}return on};var ln={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&an())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:s}=t;s&&an()&&window.sessionStorage.setItem(s,e)}},cn={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:s,language:r}=navigator;if(e)for(let n=0;n<e.length;n++)t.push(e[n]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},dn={name:"htmlTag",lookup(e){let t,{htmlTag:s}=e;const r=s||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},hn={name:"path",lookup(e){var t;let{lookupFromPathIndex:s}=e;if("undefined"==typeof window)return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null==(t=r["number"==typeof s?s:0])?void 0:t.replace("/","")}},un={name:"subdomain",lookup(e){var t,s;let{lookupFromSubdomainIndex:r}=e;const n="number"==typeof r?r+1:1,o="undefined"!=typeof window&&(null==(s=null==(t=window.location)?void 0:t.hostname)?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[n]}};let pn=!1;try{document.cookie,pn=!0}catch($r){}const mn=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];pn||mn.splice(1,1);class fn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Yr.call(Jr.call(arguments,1),t=>{if(t)for(const s in t)void 0===e[s]&&(e[s]=t[s])}),e}(t,this.options||{},{order:mn,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Zr),this.addDetector(en),this.addDetector(nn),this.addDetector(ln),this.addDetector(cn),this.addDetector(dn),this.addDetector(hn),this.addDetector(un),this.addDetector(tn)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let s=this.detectors[e].lookup(this.options);s&&"string"==typeof s&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}fn.type="languageDetector",m.use(Xr).use(fn).use(f).init({supportedLngs:["en","ar","bn","de","es","fr","hi","ja","pt","zh","ko","it","ru","tr","nl","sv","th","vi","id","ms"],fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},backend:{loadPath:"/locales/{{lng}}/translation.json",requestOptions:{cache:"no-cache"}},interpolation:{escapeValue:!1},react:{useSuspense:!1},load:"languageOnly",cleanCode:!0});const gn=()=>(s.useEffect(()=>{const e=e=>{e.preventDefault()},t=e=>{e.preventDefault()};return document.addEventListener("contextmenu",e),document.addEventListener("selectstart",t),()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("selectstart",t)}},[]),_e.jsx(kr,{})),xn=new ue({defaultOptions:{queries:{staleTime:3e5,retry:1}}});(async()=>{await new Promise(e=>setTimeout(e,100)),Ne.createRoot(document.getElementById("root")).render(_e.jsx(n.StrictMode,{children:_e.jsx(u,{children:_e.jsx(pe,{client:xn,children:_e.jsx(Ee,{children:_e.jsx(Le,{children:_e.jsx(De,{children:_e.jsx(gn,{})})})})})})}))})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})});export{ze as a,$e as b,He as c,Ae as d,Te as e,_e as j,Je as u};
