import{c as e,j as s,b as t}from"./index-7df8bb8f.js";import{r as a}from"./vendor-83d6deea.js";import{c as r,a as o}from"./router-225372b8.js";import{c as i}from"./query-c0dd8be7.js";import{m as d,p as l,$ as n}from"./ui-88b07fc3.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const c=()=>{const{token:c}=r(),m=o(),{login:p}=e(),[u,x]=a.useState(""),[b,f]=a.useState(""),[j,h]=a.useState(""),y=i({mutationFn:async e=>(await t.post("/auth/accept-agent-invite",e)).data,onSuccess:e=>{p(e.token,e.user),m("/dashboard")},onError:e=>{var s,t;h((null==(t=null==(s=e.response)?void 0:s.data)?void 0:t.message)||"Failed to accept invitation")}});return s.jsx("div",{className:"min-h-screen bg-app-bg flex items-center justify-center p-4",children:s.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 app-gradient rounded-3xl flex items-center justify-center mx-auto mb-6",children:s.jsx(l,{size:32,className:"text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-2",children:"Accept Invitation"}),s.jsx("p",{className:"text-text-secondary",children:"Set your password to complete registration"})]}),s.jsxs("div",{className:"app-surface rounded-3xl p-8 border border-app-border shadow-app-lg",children:[j&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-2xl text-center text-sm mb-6",children:j}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),u===b?c&&y.mutate({token:c,password:u}):h("Passwords do not match")},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(n,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),s.jsx("input",{type:"password",value:u,onChange:e=>x(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:"Create your password"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(n,{size:20,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-muted"}),s.jsx("input",{type:"password",value:b,onChange:e=>f(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-app-border bg-app-surface text-text-primary focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all",placeholder:"Confirm your password"})]})]}),s.jsx("button",{type:"submit",disabled:y.isLoading,className:"w-full btn-gradient py-4 text-lg font-semibold rounded-2xl disabled:opacity-50",children:y.isLoading?"Processing...":"Accept Invitation"})]})]})]})})};export{c as default};
