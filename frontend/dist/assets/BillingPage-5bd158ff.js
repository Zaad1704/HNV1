import{j as e,b as t}from"./index-7df8bb8f.js";import{L as r}from"./router-225372b8.js";import{u as s}from"./query-c0dd8be7.js";import{s as l,q as a,k as i,ad as n}from"./ui-88b07fc3.js";import"./vendor-83d6deea.js";import"./i18n-eaa6a7d3.js";import"./utils-2ffb253a.js";const o=async()=>{const{data:e}=await t.get("/billing");return e.data},d=()=>{const{data:t,isLoading:d,isError:c,error:x}=s({queryKey:["billingInfo"],queryFn:o,retry:!1});return d?e.jsx("div",{className:"text-center p-8 text-dark-text",children:"Loading Billing Information..."}):c?e.jsxs("div",{className:"text-center text-red-400 p-8",children:["Error loading subscription details: ",x.message]}):t&&t.planId?e.jsxs("div",{className:"text-dark-text",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-light-card p-8 rounded-xl shadow-lg border border-border-color",children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-text mb-1",children:"Your Current Plan"}),e.jsx("p",{className:"text-light-text mb-6",children:"Manage your subscription and view plan details."}),e.jsxs("div",{className:"bg-dark-bg/50 p-6 rounded-lg border border-border-color",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-extrabold text-brand-primary",children:t.planId.name}),e.jsxs("p",{className:"text-lg font-mono mt-1 text-light-text",children:["$",(t.planId.price/100).toFixed(2)," / ",t.planId.duration]})]}),(e=>{if(!e)return null;const t="px-3 py-1 text-sm font-semibold rounded-full capitalize";return{active:`${t} bg-green-500/20 text-green-300`,trialing:`${t} bg-blue-500/20 text-blue-300`,canceled:`${t} bg-red-500/20 text-red-400`,past_due:`${t} bg-yellow-500/20 text-yellow-300`}[e]||`${t} bg-gray-500/20 text-gray-300`})(t.status)]}),e.jsx("div",{className:"border-t border-border-color my-6"}),e.jsx("h4",{className:"font-semibold text-dark-text mb-3",children:"Plan Features:"}),e.jsx("ul",{className:"space-y-3 text-light-text",children:(t.planId.features||[]).map(t=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(l,{className:"w-5 h-5 text-green-400 mr-3"}),e.jsx("span",{children:t})]},t))})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-light-card p-6 rounded-xl border border-border-color",children:[e.jsxs("p",{className:"text-sm text-light-text",children:["Your subscription is currently ",t.status,"."]}),e.jsx("p",{className:"font-semibold text-dark-text mt-1",children:"trialing"===t.status?"Your trial expires on:":"Your plan renews on:"}),e.jsx("p",{className:"text-2xl font-bold font-mono text-brand-primary",children:(m="trialing"===t.status?t.trialExpiresAt:t.currentPeriodEndsAt,m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),e.jsxs("div",{className:"bg-light-card p-6 rounded-xl border border-border-color",children:[e.jsxs("h3",{className:"font-semibold text-dark-text mb-4 flex items-center gap-2",children:[e.jsx(a,{size:20}),"Manage Subscription"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(r,{to:"/pricing",className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(i,{size:16}),"Change Plan"]}),"active"===t.status&&e.jsx("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Pause Subscription"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(n,{size:16}),"Cancel Subscription"]})]})]})]})]})]}):e.jsxs("div",{className:"text-center bg-light-card p-8 rounded-xl border border-border-color",children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:"No Active Subscription Found"}),e.jsx("p",{className:"mt-2 text-light-text",children:"Please subscribe to a plan to unlock all features."}),e.jsx(r,{to:"/pricing",className:"mt-4 inline-block px-6 py-3 bg-brand-primary text-brand-dark font-bold rounded-lg hover:bg-opacity-90",children:"View Plans"})]});var m};export{d as default};
